/*!
 * jQuery JavaScript Library v1.10.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-30T21:49Z
 */
/*
 * Swipe 2.0
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/
function Swipe(t,e){"use strict";function i(){g=b.children,y=g.length,g.length<2&&(e.continuous=!1),p.transitions&&e.continuous&&g.length<3&&(b.appendChild(g[0].cloneNode(!0)),b.appendChild(b.children[1].cloneNode(!0)),g=b.children),m=new Array(g.length),v=t.getBoundingClientRect().width||t.offsetWidth,b.style.width=g.length*v+"px";for(var i=g.length;i--;){var n=g[i];n.style.width=v+"px",n.setAttribute("data-index",i),p.transitions&&(n.style.left=i*-v+"px",s(i,x>i?-v:i>x?v:0,0))}e.continuous&&p.transitions&&(s(r(x-1),-v,0),s(r(x+1),v,0)),p.transitions||(b.style.left=x*-v+"px"),t.style.visibility="visible"}function n(){e.continuous?a(x-1):x&&a(x-1)}function o(){e.continuous?a(x+1):x<g.length-1&&a(x+1)}function r(t){return(g.length+t%g.length)%g.length}function a(t,i){if(x!=t){if(p.transitions){var n=Math.abs(x-t)/(x-t);if(e.continuous){var o=n;n=-m[r(t)]/v,n!==o&&(t=-n*g.length+t)}for(var a=Math.abs(x-t)-1;a--;)s(r((t>x?t:x)-a-1),v*n,0);t=r(t),s(x,v*n,i||w),s(t,0,i||w),e.continuous&&s(r(t-n),-(v*n),0)}else t=r(t),c(x*-v,t*-v,i||w);x=t,f(e.callback&&e.callback(x,g[x]))}}function s(t,e,i){l(t,e,i),m[t]=e}function l(t,e,i){var n=g[t],o=n&&n.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=i+"ms",o.webkitTransform="translate("+e+"px,0)"+"translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function c(t,i,n){if(!n)return b.style.left=i+"px",void 0;var o=+new Date,r=setInterval(function(){var a=+new Date-o;return a>n?(b.style.left=i+"px",T&&h(),e.transitionEnd&&e.transitionEnd.call(event,x,g[x]),clearInterval(r),void 0):(b.style.left=(i-t)*(Math.floor(100*(a/n))/100)+t+"px",void 0)},4)}function h(){C=setTimeout(o,T)}function u(){T=0,clearTimeout(C)}var d=function(){},f=function(t){setTimeout(t||d,0)},p={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e)if(void 0!==t.style[e[i]])return!0;return!1}(document.createElement("swipe"))};if(t){var g,m,v,y,b=t.children[0];e=e||{};var x=parseInt(e.startSlide,10)||0,w=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var C,S,T=e.auto||0,_={},k={},K={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":f(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(t));break;case"resize":f(i.call())}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];_={x:e.pageX,y:e.pageY,time:+new Date},S=void 0,k={},b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var i=t.touches[0];k={x:i.pageX-_.x,y:i.pageY-_.y},"undefined"==typeof S&&(S=!!(S||Math.abs(k.x)<Math.abs(k.y))),S||(t.preventDefault(),u(),e.continuous?(l(r(x-1),k.x+m[r(x-1)],0),l(x,k.x+m[x],0),l(r(x+1),k.x+m[r(x+1)],0)):(k.x=k.x/(!x&&k.x>0||x==g.length-1&&k.x<0?Math.abs(k.x)/v+1:1),l(x-1,k.x+m[x-1],0),l(x,k.x+m[x],0),l(x+1,k.x+m[x+1],0)))}},end:function(){var t=+new Date-_.time,i=Number(t)<250&&Math.abs(k.x)>20||Math.abs(k.x)>v/2,n=!x&&k.x>0||x==g.length-1&&k.x<0;e.continuous&&(n=!1);var o=k.x<0;S||(i&&!n?(o?(e.continuous?(s(r(x-1),-v,0),s(r(x+2),v,0)):s(x-1,-v,0),s(x,m[x]-v,w),s(r(x+1),m[r(x+1)]-v,w),x=r(x+1)):(e.continuous?(s(r(x+1),v,0),s(r(x-2),-v,0)):s(x+1,v,0),s(x,m[x]+v,w),s(r(x-1),m[r(x-1)]+v,w),x=r(x-1)),e.callback&&e.callback(x,g[x])):e.continuous?(s(r(x-1),-v,w),s(x,0,w),s(r(x+1),v,w)):(s(x-1,-v,w),s(x,0,w),s(x+1,v,w))),b.removeEventListener("touchmove",K,!1),b.removeEventListener("touchend",K,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==x&&(T&&h(),e.transitionEnd&&e.transitionEnd.call(t,x,g[x]))}};return i(),T&&h(),p.addEventListener?(p.touch&&b.addEventListener("touchstart",K,!1),p.transitions&&(b.addEventListener("webkitTransitionEnd",K,!1),b.addEventListener("msTransitionEnd",K,!1),b.addEventListener("oTransitionEnd",K,!1),b.addEventListener("otransitionend",K,!1),b.addEventListener("transitionend",K,!1)),window.addEventListener("resize",K,!1)):window.onresize=function(){i()},{setup:function(){i()},slide:function(t,e){u(),a(t,e)},prev:function(){u(),n()},next:function(){u(),o()},getPos:function(){return x},getNumSlides:function(){return y},kill:function(){u(),b.style.width="auto",b.style.left=0;for(var t=g.length;t--;){var e=g[t];e.style.width="100%",e.style.left=0,p.transitions&&l(t,0,0)}p.addEventListener?(b.removeEventListener("touchstart",K,!1),b.removeEventListener("webkitTransitionEnd",K,!1),b.removeEventListener("msTransitionEnd",K,!1),b.removeEventListener("oTransitionEnd",K,!1),b.removeEventListener("otransitionend",K,!1),b.removeEventListener("transitionend",K,!1),window.removeEventListener("resize",K,!1)):window.onresize=null}}}}!function(t,e){function i(t){var e=t.length,i=he.type(t);return he.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=_e[t]={};return he.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function o(t,i,n,o){if(he.acceptData(t)){var r,a,s=he.expando,l=t.nodeType,c=l?he.cache:t,h=l?t[s]:t[s]&&s;if(h&&c[h]&&(o||c[h].data)||n!==e||"string"!=typeof i)return h||(h=l?t[s]=ee.pop()||he.guid++:s),c[h]||(c[h]=l?{}:{toJSON:he.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[h]=he.extend(c[h],i):c[h].data=he.extend(c[h].data,i)),a=c[h],o||(a.data||(a.data={}),a=a.data),n!==e&&(a[he.camelCase(i)]=n),"string"==typeof i?(r=a[i],null==r&&(r=a[he.camelCase(i)])):r=a,r}}function r(t,e,i){if(he.acceptData(t)){var n,o,r=t.nodeType,a=r?he.cache:t,l=r?t[he.expando]:he.expando;if(a[l]){if(e&&(n=i?a[l]:a[l].data)){he.isArray(e)?e=e.concat(he.map(e,he.camelCase)):e in n?e=[e]:(e=he.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!s(n):!he.isEmptyObject(n))return}(i||(delete a[l].data,s(a[l])))&&(r?he.cleanData([t],!0):he.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,i,n){if(n===e&&1===t.nodeType){var o="data-"+i.replace(Ke,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?he.parseJSON(n):n}catch(r){}he.data(t,i,n)}else n=e}return n}function s(t){var e;for(e in t)if(("data"!==e||!he.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function h(){try{return Y.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(he.isFunction(e))return he.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return he.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(We.test(e))return he.filter(e,t,i);e=he.filter(e,t)}return he.grep(t,function(t){return he.inArray(t,e)>=0!==i})}function f(t){var e=qe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){return he.nodeName(t,"table")&&he.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==he.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=oi.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)he._data(i,"globalEval",!e||he._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&he.hasData(t)){var i,n,o,r=he._data(t),a=he._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,o=s[i].length;o>n;n++)he.event.add(e,i,s[i][n])}a.data&&(a.data=he.extend({},a.data))}}function b(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!he.support.noCloneEvent&&e[he.expando]){o=he._data(e);for(n in o.events)he.removeEvent(e,n,o.handle);e.removeAttribute(he.expando)}"script"===i&&e.text!==t.text?(g(e).text=t.text,m(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),he.support.html5Clone&&t.innerHTML&&!he.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function x(t,i){var n,o,r=0,a=typeof t.getElementsByTagName!==X?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==X?t.querySelectorAll(i||"*"):e;if(!a)for(a=[],n=t.childNodes||t;null!=(o=n[r]);r++)!i||he.nodeName(o,i)?a.push(o):he.merge(a,x(o,i));return i===e||i&&he.nodeName(t,i)?he.merge([t],a):a}function w(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function C(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=Ti.length;o--;)if(e=Ti[o]+i,e in t)return e;return n}function S(t,e){return t=e||t,"none"===he.css(t,"display")||!he.contains(t.ownerDocument,t)}function T(t,e){for(var i,n,o,r=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(r[a]=he._data(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&S(n)&&(r[a]=he._data(n,"olddisplay",P(n.nodeName)))):r[a]||(o=S(n),(i&&"none"!==i||!o)&&he._data(n,"olddisplay",o?i:he.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function _(t,e,i){var n=vi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function k(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=he.css(t,i+Si[r],!0,o)),n?("content"===i&&(a-=he.css(t,"padding"+Si[r],!0,o)),"margin"!==i&&(a-=he.css(t,"border"+Si[r]+"Width",!0,o))):(a+=he.css(t,"padding"+Si[r],!0,o),"padding"!==i&&(a+=he.css(t,"border"+Si[r]+"Width",!0,o)));return a}function K(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=hi(t),a=he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=ui(t,e,r),(0>o||null==o)&&(o=t.style[e]),yi.test(o))return o;n=a&&(he.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+k(t,e,i||(a?"border":"content"),n,r)+"px"}function P(t){var e=Y,i=xi[t];return i||(i=N(t,e),"none"!==i&&i||(ci=(ci||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=N(t,e),ci.detach()),xi[t]=i),i}function N(t,e){var i=he(e.createElement(t)).appendTo(e.body),n=he.css(i[0],"display");return i.remove(),n}function E(t,e,i,n){var o;if(he.isArray(e))he.each(e,function(e,o){i||ki.test(t)?n(t,o):E(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==he.type(e))n(t,e);else for(o in e)E(t+"["+o+"]",e[o],i,n)}function A(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(de)||[];if(he.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function L(t,e,i,n){function o(s){var l;return r[s]=!0,he.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===Bi;return o(e.dataTypes[0])||!r["*"]&&o("*")}function D(t,i){var n,o,r=he.ajaxSettings.flatOptions||{};for(o in i)i[o]!==e&&((r[o]?t:n||(n={}))[o]=i[o]);return n&&he.extend(!0,t,n),t}function F(t,i,n){for(var o,r,a,s,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),r===e&&(r=t.mimeType||i.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){c.unshift(s);break}if(c[0]in n)a=c[0];else{for(s in n){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function j(t,e,i,n){var o,r,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function M(){try{return new t.XMLHttpRequest}catch(e){}}function R(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function H(){return setTimeout(function(){Zi=e}),Zi=he.now()}function I(t,e,i){for(var n,o=(rn[e]||[]).concat(rn["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,e,t))return n}function O(t,e,i){var n,o,r=0,a=on.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Zi||H(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(t,[c,r,i]),1>r&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zi||H(),duration:i.duration,tweens:[],createTween:function(e,i){var n=he.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),h=c.props;for($(h,c.opts.specialEasing);a>r;r++)if(n=on[r].call(c,t,h,c.opts))return n;return he.map(h,I,c),he.isFunction(c.opts.start)&&c.opts.start.call(t,c),he.fx.timer(he.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(t,e){var i,n,o,r,a;for(i in t)if(n=he.camelCase(i),o=e[n],r=t[i],he.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),a=he.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function W(t,e,i){var n,o,r,a,s,l,c=this,h={},u=t.style,d=t.nodeType&&S(t),f=he._data(t,"fxshow");i.queue||(s=he._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===he.css(t,"display")&&"none"===he.css(t,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==P(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",he.support.shrinkWrapBlocks||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],tn.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(d?"hide":"show"))continue;h[n]=f&&f[n]||he.style(t,n)}if(!he.isEmptyObject(h)){f?"hidden"in f&&(d=f.hidden):f=he._data(t,"fxshow",{}),r&&(f.hidden=!d),d?he(t).show():c.done(function(){he(t).hide()}),c.done(function(){var e;he._removeData(t,"fxshow");for(e in h)he.style(t,e,h[e])});for(n in h)a=I(d?f[n]:0,n,c),n in f||(f[n]=a.start,d&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function B(t,e,i,n,o){return new B.prototype.init(t,e,i,n,o)}function G(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Si[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function z(t){return he.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q,U,X=typeof e,V=t.location,Y=t.document,Q=Y.documentElement,Z=t.jQuery,J=t.$,te={},ee=[],ie="1.10.1",ne=ee.concat,oe=ee.push,re=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ce=ie.trim,he=function(t,e){return new he.fn.init(t,e,U)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xe=/^-ms-/,we=/-([\da-z])/gi,Ce=function(t,e){return e.toUpperCase()},Se=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(Te(),he.ready())},Te=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",Se,!1),t.removeEventListener("load",Se,!1)):(Y.detachEvent("onreadystatechange",Se),t.detachEvent("onload",Se))};he.fn=he.prototype={jquery:ie,constructor:he,init:function(t,i,n){var o,r;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pe.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof he?i[0]:i,he.merge(this,he.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:Y,!0)),ge.test(o[1])&&he.isPlainObject(i))for(o in i)he.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(r=Y.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return n.find(t);this.length=1,this[0]=r}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):he.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),he.makeArray(t,this))},selector:"",length:0,toArray:function(){return re.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=he.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return he.each(this,t,e)},ready:function(t){return he.ready.promise().done(t),this},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(he.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var t,i,n,o,r,a,s=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[1]||{},l=2),"object"==typeof s||he.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(o in r)t=s[o],n=r[o],s!==n&&(h&&n&&(he.isPlainObject(n)||(i=he.isArray(n)))?(i?(i=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[o]=he.extend(h,a,n)):n!==e&&(s[o]=n));return s},he.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===he&&(t.$=J),e&&t.jQuery===he&&(t.jQuery=Z),he},isReady:!1,readyWait:1,holdReady:function(t){t?he.readyWait++:he.ready(!0)},ready:function(t){if(t===!0?!--he.readyWait:!he.isReady){if(!Y.body)return setTimeout(he.ready);he.isReady=!0,t!==!0&&--he.readyWait>0||(q.resolveWith(Y,[he]),he.fn.trigger&&he(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===he.type(t)},isArray:Array.isArray||function(t){return"array"===he.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==he.type(t)||t.nodeType||he.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(he.support.ownLast)for(i in t)return le.call(t,i);for(i in t);return i===e||le.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Y;var n=ge.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=he.buildFragment([t],e,o),o&&he(o).remove(),he.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=he.trim(e),e&&me.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(he.error("Invalid JSON: "+e),void 0)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(r){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(xe,"ms-").replace(we,Ce)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,a=t.length,s=i(t);if(n){if(s)for(;a>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(s)for(;a>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(fe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?he.merge(n,"string"==typeof t?[t]:t):oe.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(ae)return ae.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,o=t.length,r=0;if("number"==typeof n)for(;n>r;r++)t[o++]=i[r];else for(;i[r]!==e;)t[o++]=i[r++];return t.length=o,t},grep:function(t,e,i){var n,o=[],r=0,a=t.length;for(i=!!i;a>r;r++)n=!!e(t[r],r),i!==n&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,a=t.length,s=i(t),l=[];if(s)for(;a>r;r++)o=e(t[r],r,n),null!=o&&(l[l.length]=o);else for(r in t)o=e(t[r],r,n),null!=o&&(l[l.length]=o);return ne.apply([],l)},guid:1,proxy:function(t,i){var n,o,r;return"string"==typeof i&&(r=t[i],i=t,t=r),he.isFunction(t)?(n=re.call(arguments,2),o=function(){return t.apply(i||this,n.concat(re.call(arguments)))},o.guid=t.guid=t.guid||he.guid++,o):e},access:function(t,i,n,o,r,a,s){var l=0,c=t.length,h=null==n;if("object"===he.type(n)){r=!0;for(l in n)he.access(t,i,l,n[l],!0,a,s)}else if(o!==e&&(r=!0,he.isFunction(o)||(s=!0),h&&(s?(i.call(t,o),i=null):(h=i,i=function(t,e,i){return h.call(he(t),i)})),i))for(;c>l;l++)i(t[l],n,s?o:o.call(t[l],l,i(t[l],n)));return r?t:h?i.call(t):c?i(t[0],n):a},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o}}),he.ready.promise=function(e){if(!q)if(q=he.Deferred(),"complete"===Y.readyState)setTimeout(he.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",Se,!1),t.addEventListener("load",Se,!1);else{Y.attachEvent("onreadystatechange",Se),t.attachEvent("onload",Se);var i=!1;try{i=null==t.frameElement&&Y.documentElement}catch(n){}i&&i.doScroll&&function o(){if(!he.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}Te(),he.ready()}}()}return q.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),U=he(Y),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-27
 */
function(t,e){function i(t,e,i,n){var o,r,a,s,l,c,h,u,d,f;if((e?e.ownerDocument||e:G)!==M&&j(e),e=e||M,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(H&&!n){if(o=Se.exec(t))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&W(e,r)&&r.id===a)return i.push(r),i}else{if(o[2])return oe.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&K.getElementsByClassName&&e.getElementsByClassName)return oe.apply(i,e.getElementsByClassName(a)),i}if(K.qsa&&(!I||!I.test(t))){if(u=h=B,d=e,f=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=g(t),(h=e.getAttribute("id"))?u=h.replace(ke,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+m(c[l]);d=ve.test(t)&&e.parentNode||e,f=c.join(",")}if(f)try{return oe.apply(i,d.querySelectorAll(f)),i}catch(p){}finally{h||e.removeAttribute("id")}}}return T(t.replace(pe,"$1"),e,i,n)}function n(t){return Ce.test(t+"")}function o(){function t(i,n){return e.push(i+=" ")>N.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function r(t){return t[B]=!0,t}function a(t){var e=M.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e,i){t=t.split("|");for(var n,o=t.length,r=i?null:e;o--;)(n=N.attrHandle[t[o]])&&n!==e||(N.attrHandle[t[o]]=r)}function l(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}function c(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function h(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function u(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function d(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function f(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function p(t){return r(function(e){return e=+e,r(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function g(t,e){var n,o,r,a,s,l,c,h=X[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],c=N.preFilter;s;){(!n||(o=ge.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=me.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(pe," ")}),s=s.slice(n.length));for(a in N.filter)!(o=we[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?i.error(t):X(t,l).slice(0)}function m(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function v(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=q++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,a){var s,l,c,h=z+" "+r;if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(c=e[B]||(e[B]={}),(l=c[n])&&l[0]===h){if((s=l[1])===!0||s===P)return s===!0}else if(l=c[n]=[h],l[1]=t(e,i,a)||P,l[1]===!0)return!0}}function y(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function b(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(r=t[s])&&(!i||i(r,n,o))&&(a.push(r),c&&e.push(s));return a}function x(t,e,i,n,o,a){return n&&!n[B]&&(n=x(n)),o&&!o[B]&&(o=x(o,a)),r(function(r,a,s,l){var c,h,u,d=[],f=[],p=a.length,g=r||S(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?g:b(g,d,t,s,l),v=i?o||(r?t:p||n)?[]:a:m;if(i&&i(m,v,s,l),n)for(c=b(v,f),n(c,[],s,l),h=c.length;h--;)(u=c[h])&&(v[f[h]]=!(m[f[h]]=u));if(r){if(o||t){if(o){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);o(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=o?ae.call(r,u):d[h])>-1&&(r[c]=!(a[c]=u))}}else v=b(v===a?v.splice(p,v.length):v),o?o(null,a,v,l):oe.apply(a,v)})}function w(t){for(var e,i,n,o=t.length,r=N.relative[t[0].type],a=r||N.relative[" "],s=r?1:0,l=v(function(t){return t===e},a,!0),c=v(function(t){return ae.call(e,t)>-1},a,!0),h=[function(t,i,n){return!r&&(n||i!==D)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>s;s++)if(i=N.relative[t[s].type])h=[v(y(h),i)];else{if(i=N.filter[t[s].type].apply(null,t[s].matches),i[B]){for(n=++s;o>n&&!N.relative[t[n].type];n++);return x(s>1&&y(h),s>1&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(pe,"$1"),i,n>s&&w(t.slice(s,n)),o>n&&w(t=t.slice(n)),o>n&&m(t))}h.push(i)}return y(h)}function C(t,e){var n=0,o=e.length>0,a=t.length>0,s=function(r,s,l,c,h){var u,d,f,p=[],g=0,m="0",v=r&&[],y=null!=h,x=D,w=r||a&&N.find.TAG("*",h&&s.parentNode||s),C=z+=null==x?1:Math.random()||.1;for(y&&(D=s!==M&&s,P=n);null!=(u=w[m]);m++){if(a&&u){for(d=0;f=t[d++];)if(f(u,s,l)){c.push(u);break}y&&(z=C,P=++n)}o&&((u=!f&&u)&&g--,r&&v.push(u))}if(g+=m,o&&m!==g){for(d=0;f=e[d++];)f(v,p,s,l);if(r){if(g>0)for(;m--;)v[m]||p[m]||(p[m]=ie.call(c));p=b(p)}oe.apply(c,p),y&&!r&&p.length>0&&g+e.length>1&&i.uniqueSort(c)}return y&&(z=C,D=x),v};return o?r(s):s}function S(t,e,n){for(var o=0,r=e.length;r>o;o++)i(t,e[o],n);return n}function T(t,e,i,n){var o,r,a,s,l,c=g(t);if(!n&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&K.getById&&9===e.nodeType&&H&&N.relative[r[1].type]){if(e=(N.find.ID(a.matches[0].replace(Ke,Pe),e)||[])[0],!e)return i;t=t.slice(r.shift().value.length)}for(o=we.needsContext.test(t)?0:r.length;o--&&(a=r[o],!N.relative[s=a.type]);)if((l=N.find[s])&&(n=l(a.matches[0].replace(Ke,Pe),ve.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),t=n.length&&m(r),!t)return oe.apply(i,n),i;break}}return L(t,c)(n,e,!H,i,ve.test(t)),i}function _(){}var k,K,P,N,E,A,L,D,F,j,M,R,H,I,O,$,W,B="sizzle"+-new Date,G=t.document,z=0,q=0,U=o(),X=o(),V=o(),Y=!1,Q=function(){return 0},Z=typeof e,J=1<<31,te={}.hasOwnProperty,ee=[],ie=ee.pop,ne=ee.push,oe=ee.push,re=ee.slice,ae=ee.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ce="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ue=ce.replace("w","w#"),de="\\["+le+"*("+ce+")"+le+"*(?:([*^$|!~]?=)"+le+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ue+")|)|)"+le+"*\\]",fe=":("+ce+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+de.replace(3,8)+")*)|.*)\\)|)",pe=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),ge=new RegExp("^"+le+"*,"+le+"*"),me=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ve=new RegExp(le+"*[+~]"),ye=new RegExp("="+le+"*([^\\]'\"]*)"+le+"*\\]","g"),be=new RegExp(fe),xe=new RegExp("^"+ue+"$"),we={ID:new RegExp("^#("+ce+")"),CLASS:new RegExp("^\\.("+ce+")"),TAG:new RegExp("^("+ce.replace("w","w*")+")"),ATTR:new RegExp("^"+de),PSEUDO:new RegExp("^"+fe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+se+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},Ce=/^[^{]+\{\s*\[native \w/,Se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Te=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ke=/'|\\/g,Ke=new RegExp("\\\\([\\da-f]{1,6}"+le+"?|("+le+")|.)","ig"),Pe=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{oe.apply(ee=re.call(G.childNodes),G.childNodes),ee[G.childNodes.length].nodeType}catch(Ne){oe={apply:ee.length?function(t,e){ne.apply(t,re.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}A=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},K=i.support={},j=i.setDocument=function(t){var e=t?t.ownerDocument||t:G,i=e.parentWindow;return e!==M&&9===e.nodeType&&e.documentElement?(M=e,R=e.documentElement,H=!A(e),i&&i.frameElement&&i.attachEvent("onbeforeunload",function(){j()}),K.attributes=a(function(t){return t.innerHTML="<a href='#'></a>",s("type|href|height|width",c,"#"===t.firstChild.getAttribute("href")),s(se,l,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),K.input=a(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),s("value",h,K.attributes&&K.input),K.getElementsByTagName=a(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),K.getElementsByClassName=a(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),K.getById=a(function(t){return R.appendChild(t).id=B,!e.getElementsByName||!e.getElementsByName(B).length}),K.getById?(N.find.ID=function(t,e){if(typeof e.getElementById!==Z&&H){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},N.filter.ID=function(t){var e=t.replace(Ke,Pe);return function(t){return t.getAttribute("id")===e}}):(delete N.find.ID,N.filter.ID=function(t){var e=t.replace(Ke,Pe);return function(t){var i=typeof t.getAttributeNode!==Z&&t.getAttributeNode("id");return i&&i.value===e}}),N.find.TAG=K.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Z?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},N.find.CLASS=K.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Z&&H?e.getElementsByClassName(t):void 0},O=[],I=[],(K.qsa=n(e.querySelectorAll))&&(a(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||I.push("\\["+le+"*(?:value|"+se+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),a(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&I.push("[*^$]="+le+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(K.matchesSelector=n($=R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&a(function(t){K.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),O.push("!=",fe)}),I=I.length&&new RegExp(I.join("|")),O=O.length&&new RegExp(O.join("|")),W=n(R.contains)||R.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K.sortDetached=a(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),Q=R.compareDocumentPosition?function(t,i){if(t===i)return Y=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!K.sortDetached&&i.compareDocumentPosition(t)===n?t===e||W(G,t)?-1:i===e||W(G,i)?1:F?ae.call(F,t)-ae.call(F,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,o=0,r=t.parentNode,a=i.parentNode,s=[t],l=[i];if(t===i)return Y=!0,0;if(!r||!a)return t===e?-1:i===e?1:r?-1:a?1:F?ae.call(F,t)-ae.call(F,i):0;if(r===a)return u(t,i);for(n=t;n=n.parentNode;)s.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;s[o]===l[o];)o++;return o?u(s[o],l[o]):s[o]===G?-1:l[o]===G?1:0},e):M},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==M&&j(t),e=e.replace(ye,"='$1']"),!(!K.matchesSelector||!H||O&&O.test(e)||I&&I.test(e)))try{var n=$.call(t,e);if(n||K.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return i(e,M,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==M&&j(t),W(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==M&&j(t);var n=N.attrHandle[i.toLowerCase()],o=n&&te.call(N.attrHandle,i.toLowerCase())?n(t,i,!H):e;return o===e?K.attributes||!H?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,o=0;if(Y=!K.detectDuplicates,F=!K.sortStable&&t.slice(0),t.sort(Q),Y){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},E=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=E(e);return i},N=i.selectors={cacheLength:50,createPseudo:r,match:we,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ke,Pe),t[3]=(t[4]||t[5]||"").replace(Ke,Pe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return we.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&be.test(n)&&(i=g(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ke,Pe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+le+")"+t+"("+le+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Z&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var r=i.attr(o,t);return null==r?"!="===e:e?(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,f,p,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(r){for(;g;){for(u=e;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=m[B]||(m[B]={}),c=h[t]||[],f=c[0]===z&&c[1],d=c[0]===z&&c[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(d=f=0)||p.pop();)if(1===u.nodeType&&++d&&u===e){h[t]=[z,f,d];break}}else if(y&&(c=(e[B]||(e[B]={}))[t])&&c[0]===z)d=c[1];else for(;(u=++f&&u&&u[g]||(d=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(y&&((u[B]||(u[B]={}))[t]=[z,d]),u!==e)););return d-=o,d===n||0===d%n&&d/n>=0}}},PSEUDO:function(t,e){var n,o=N.pseudos[t]||N.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return o[B]?o(e):o.length>1?(n=[t,t,"",e],N.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,i){for(var n,r=o(t,e),a=r.length;a--;)n=ae.call(t,r[a]),t[n]=!(i[n]=r[a])}):function(t){return o(t,0,n)}):o}},pseudos:{not:r(function(t){var e=[],i=[],n=L(t.replace(pe,"$1"));return n[B]?r(function(t,e,i,o){for(var r,a=n(t,null,o,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,o,r){return e[0]=t,n(e,null,r,i),!i.pop()}}),has:r(function(t){return function(e){return i(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return xe.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(Ke,Pe).toLowerCase(),function(e){var i;do if(i=H?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!N.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return Te.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:p(function(){return[0]}),last:p(function(t,e){return[e-1]}),eq:p(function(t,e,i){return[0>i?i+e:i]}),even:p(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:p(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:p(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:p(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[k]=d(k);for(k in{submit:!0,reset:!0})N.pseudos[k]=f(k);L=i.compile=function(t,e){var i,n=[],o=[],r=V[t+" "];if(!r){for(e||(e=g(t)),i=e.length;i--;)r=w(e[i]),r[B]?n.push(r):o.push(r);r=V(t,C(o,n))}return r},N.pseudos.nth=N.pseudos.eq,_.prototype=N.filters=N.pseudos,N.setFilters=new _,K.sortStable=B.split("").sort(Q).join("")===B,j(),[0,0].sort(Q),K.detectDuplicates=Y,he.find=i,he.expr=i.selectors,he.expr[":"]=he.expr.pseudos,he.unique=i.uniqueSort,he.text=i.getText,he.isXMLDoc=i.isXML,he.contains=i.contains}(t);var _e={};he.Callbacks=function(t){t="string"==typeof t?_e[t]||n(t):he.extend({},t);var i,o,r,a,s,l,c=[],h=!t.once&&[],u=function(e){for(o=t.memory&&e,r=!0,s=l||0,l=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}i=!1,c&&(h?h.length&&u(h.shift()):o?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function n(e){he.each(e,function(e,i){var o=he.type(i);"function"===o?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?a=c.length:o&&(l=e,u(o))}return this},remove:function(){return c&&he.each(arguments,function(t,e){for(var n;(n=he.inArray(e,c,n))>-1;)c.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?he.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=h=o=e,this},disabled:function(){return!c},lock:function(){return h=e,o||d.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||r&&!h||(i?h.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},he.extend({Deferred:function(t){var e=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return he.Deferred(function(i){he.each(e,function(e,r){var a=r[0],s=he.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&he.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?he.extend(t,n):n}},o={};return n.pipe=n.then,he.each(e,function(t,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=re.call(arguments),a=r.length,s=1!==a||t&&he.isFunction(t.promise)?a:0,l=1===s?t:he.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?re.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&he.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,e)):--s;return s||l.resolveWith(n,r),l.promise()}}),he.support=function(e){var i,n,o,r,a,s,l,c,h,u=Y.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;r=Y.createElement("select"),s=r.appendChild(Y.createElement("option")),o=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!o.value,e.optSelected=s.selected,e.enctype=!!Y.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete u.test}catch(d){e.deleteExpando=!1}o=Y.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=Y.createDocumentFragment(),a.appendChild(o),e.appendChecked=o.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+h,"t"),e[h+"Bubbles"]=l in t||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(h in he(e))break;return e.ownLast="0"!==h,he(function(){var i,n,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Y.getElementsByTagName("body")[0];a&&(i=Y.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=u.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=c&&0===o[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",he.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(Y.createElement("div")),n.style.cssText=u.style.cssText=r,n.style.marginRight=n.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==X&&(u.innerHTML="",u.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(i),i=u=o=n=null)}),i=r=a=s=n=o=null,e}({});var ke=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ke=/([A-Z])/g;he.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?he.cache[t[he.expando]]:t[he.expando],!!t&&!s(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return r(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return r(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&he.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),he.fn.extend({data:function(t,i){var n,o,r=null,s=0,l=this[0];if(t===e){if(this.length&&(r=he.data(l),1===l.nodeType&&!he._data(l,"parsedAttrs"))){for(n=l.attributes;s<n.length;s++)o=n[s].name,0===o.indexOf("data-")&&(o=he.camelCase(o.slice(5)),a(l,o,r[o]));he._data(l,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){he.data(this,t)}):arguments.length>1?this.each(function(){he.data(this,t,i)}):l?a(l,t,he.data(l,t)):null},removeData:function(t){return this.each(function(){he.removeData(this,t)})}}),he.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=he._data(t,e),i&&(!n||he.isArray(i)?n=he._data(t,e,he.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=he.queue(t,e),n=i.length,o=i.shift(),r=he._queueHooks(t,e),a=function(){he.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return he._data(t,i)||he._data(t,i,{empty:he.Callbacks("once memory").add(function(){he._removeData(t,e+"queue"),he._removeData(t,i)})})}}),he.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?he.queue(this[0],t):i===e?this:this.each(function(){var e=he.queue(this,t,i);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(t){return this.each(function(){he.dequeue(this,t)})},delay:function(t,e){return t=he.fx?he.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,r=he.Deferred(),a=this,s=this.length,l=function(){--o||r.resolveWith(a,[a])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";s--;)n=he._data(a[s],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),r.promise(i)}});var Pe,Ne,Ee=/[\t\r\n\f]/g,Ae=/\r/g,Le=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i,Fe=/^(?:checked|selected)$/i,je=he.support.getSetAttribute,Me=he.support.input;he.fn.extend({attr:function(t,e){return he.access(this,he.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){he.removeAttr(this,t)})},prop:function(t,e){return he.access(this,he.prop,t,e,arguments.length>1)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,o,r,a=0,s=this.length,l="string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ee," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i.className=he.trim(n)}return this},removeClass:function(t){var e,i,n,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ee," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=t?he.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return he.isFunction(t)?this.each(function(i){he(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var o,r=0,a=he(this),s=e,l=t.match(de)||[];o=l[r++];)s=n?s:!a.hasClass(o),a[s?"addClass":"removeClass"](o);else(i===X||"boolean"===i)&&(this.className&&he._data(this,"__className__",this.className),this.className=this.className||t===!1?"":he._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ee," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,r=this[0];{if(arguments.length)return o=he.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=o?t.call(this,i,he(this).val()):t,null==r?r="":"number"==typeof r?r+="":he.isArray(r)&&(r=he.map(r,function(t){return null==t?"":t+""})),n=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==e||(this.value=r))});if(r)return n=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(r,"value"))!==e?i:(i=r.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)}}}),he.extend({valHooks:{option:{get:function(t){var e=he.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==o||(he.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&he.nodeName(i.parentNode,"optgroup"))){if(e=he(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=he.makeArray(e),a=o.length;a--;)n=o[a],(n.selected=he.inArray(he(n).val(),r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}},attr:function(t,i,n){var o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===X?he.prop(t,i,n):(1===a&&he.isXMLDoc(t)||(i=i.toLowerCase(),o=he.attrHooks[i]||(he.expr.match.bool.test(i)?Ne:Pe)),n===e?o&&"get"in o&&null!==(r=o.get(t,i))?r:(r=he.find.attr(t,i),null==r?e:r):null!==n?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:(t.setAttribute(i,n+""),n):(he.removeAttr(t,i),void 0))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(de);if(r&&1===t.nodeType)for(;i=r[o++];)n=he.propFix[i]||i,he.expr.match.bool.test(i)?Me&&je||!Fe.test(i)?t[n]=!1:t[he.camelCase("default-"+i)]=t[n]=!1:he.attr(t,i,""),t.removeAttribute(je?i:n)},attrHooks:{type:{set:function(t,e){if(!he.support.radioValue&&"radio"===e&&he.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var o,r,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!he.isXMLDoc(t),a&&(i=he.propFix[i]||i,r=he.propHooks[i]),n!==e?r&&"set"in r&&(o=r.set(t,n,i))!==e?o:t[i]=n:r&&"get"in r&&null!==(o=r.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var e=he.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}}}),Ne={set:function(t,e,i){return e===!1?he.removeAttr(t,i):Me&&je||!Fe.test(i)?t.setAttribute(!je&&he.propFix[i]||i,i):t[he.camelCase("default-"+i)]=t[i]=!0,i}},he.each(he.expr.match.bool.source.match(/\w+/g),function(t,i){var n=he.expr.attrHandle[i]||he.find.attr;he.expr.attrHandle[i]=Me&&je||!Fe.test(i)?function(t,i,o){var r=he.expr.attrHandle[i],a=o?e:(he.expr.attrHandle[i]=e)!=n(t,i,o)?i.toLowerCase():null;return he.expr.attrHandle[i]=r,a}:function(t,i,n){return n?e:t[he.camelCase("default-"+i)]?i.toLowerCase():null}}),Me&&je||(he.attrHooks.value={set:function(t,e,i){return he.nodeName(t,"input")?(t.defaultValue=e,void 0):Pe&&Pe.set(t,e,i)}}),je||(Pe={set:function(t,i,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},he.expr.attrHandle.id=he.expr.attrHandle.name=he.expr.attrHandle.coords=function(t,i,n){var o;return n?e:(o=t.getAttributeNode(i))&&""!==o.value?o.value:null},he.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:Pe.set},he.attrHooks.contenteditable={set:function(t,e,i){Pe.set(t,""===e?!1:e,i)}},he.each(["width","height"],function(t,e){he.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),he.support.hrefNormalized||he.each(["href","src"],function(t,e){he.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),he.support.style||(he.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""
}}),he.support.optSelected||(he.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.support.enctype||(he.propFix.enctype="encoding"),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(t,e){return he.isArray(e)?t.checked=he.inArray(he(t).val(),e)>=0:void 0}},he.support.checkOn||(he.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Re=/^(?:input|select|textarea)$/i,He=/^key/,Ie=/^(?:mouse|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(t,i,n,o,r){var a,s,l,c,h,u,d,f,p,g,m,v=he._data(t);if(v){for(n.handler&&(c=n,n=c.handler,r=c.selector),n.guid||(n.guid=he.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(t){return typeof he===X||t&&he.event.triggered===t.type?e:he.event.dispatch.apply(u.elem,arguments)},u.elem=t),i=(i||"").match(de)||[""],l=i.length;l--;)a=$e.exec(i[l])||[],p=m=a[1],g=(a[2]||"").split(".").sort(),p&&(h=he.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=he.event.special[p]||{},d=he.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:g.join(".")},c),(f=s[p])||(f=s[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,o,g,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),he.event.global[p]=!0);t=null}},remove:function(t,e,i,n,o){var r,a,s,l,c,h,u,d,f,p,g,m=he.hasData(t)&&he._data(t);if(m&&(h=m.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(s=$e.exec(e[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(u=he.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=h[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)a=d[r],!o&&g!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(r,1),a.selector&&d.delegateCount--,u.remove&&u.remove.call(t,a));l&&!d.length&&(u.teardown&&u.teardown.call(t,p,m.handle)!==!1||he.removeEvent(t,f,m.handle),delete h[f])}else for(f in h)he.event.remove(t,f+e[c],i,n,!0);he.isEmptyObject(h)&&(delete m.handle,he._removeData(t,"events"))}},trigger:function(i,n,o,r){var a,s,l,c,h,u,d,f=[o||Y],p=le.call(i,"type")?i.type:i,g=le.call(i,"namespace")?i.namespace.split("."):[];if(l=u=o=o||Y,3!==o.nodeType&&8!==o.nodeType&&!Oe.test(p+he.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),s=p.indexOf(":")<0&&"on"+p,i=i[he.expando]?i:new he.Event(p,"object"==typeof i&&i),i.isTrigger=r?2:3,i.namespace=g.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),n=null==n?[i]:he.makeArray(n,[i]),h=he.event.special[p]||{},r||!h.trigger||h.trigger.apply(o,n)!==!1)){if(!r&&!h.noBubble&&!he.isWindow(o)){for(c=h.delegateType||p,Oe.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),u=l;u===(o.ownerDocument||Y)&&f.push(u.defaultView||u.parentWindow||t)}for(d=0;(l=f[d++])&&!i.isPropagationStopped();)i.type=d>1?c:h.bindType||p,a=(he._data(l,"events")||{})[i.type]&&he._data(l,"handle"),a&&a.apply(l,n),a=s&&l[s],a&&he.acceptData(l)&&a.apply&&a.apply(l,n)===!1&&i.preventDefault();if(i.type=p,!r&&!i.isDefaultPrevented()&&(!h._default||h._default.apply(f.pop(),n)===!1)&&he.acceptData(o)&&s&&o[p]&&!he.isWindow(o)){u=o[s],u&&(o[s]=null),he.event.triggered=p;try{o[p]()}catch(m){}he.event.triggered=e,u&&(o[s]=u)}return i.result}},dispatch:function(t){t=he.event.fix(t);var i,n,o,r,a,s=[],l=re.call(arguments),c=(he._data(this,"events")||{})[t.type]||[],h=he.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=he.event.handlers.call(this,t,c),i=0;(r=s[i++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,a=0;(o=r.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,o,r,a,s=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(r=[],a=0;l>a;a++)o=i[a],n=o.selector+" ",r[n]===e&&(r[n]=o.needsContext?he(n,this).index(c)>=0:he.find(n,this,null,[c]).length),r[n]&&r.push(o);r.length&&s.push({elem:c,handlers:r})}return l<i.length&&s.push({elem:this,handlers:i.slice(l)}),s},fix:function(t){if(t[he.expando])return t;var e,i,n,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ie.test(o)?this.mouseHooks:He.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new he.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,r,a=i.button,s=i.fromElement;return null==t.pageX&&null!=i.clientX&&(o=t.target.ownerDocument||Y,r=o.documentElement,n=o.body,t.pageX=i.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?i.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return he.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return he.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=he.extend(new he.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?he.event.trigger(o,null,e):he.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},he.removeEvent=Y.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===X&&(t[n]=null),t.detachEvent(n,i))},he.Event=function(t,e){return this instanceof he.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&he.extend(this,e),this.timeStamp=t&&t.timeStamp||he.now(),this[he.expando]=!0,void 0):new he.Event(t,e)},he.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){he.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!he.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return he.nodeName(this,"form")?!1:(he.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=he.nodeName(i,"input")||he.nodeName(i,"button")?i.form:e;n&&!he._data(n,"submitBubbles")&&(he.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),he._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&he.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return he.nodeName(this,"form")?!1:(he.event.remove(this,"._submit"),void 0)}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return Re.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(he.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,t,!0)})),!1):(he.event.add(this,"beforeactivate._change",function(t){var e=t.target;Re.test(e.nodeName)&&!he._data(e,"changeBubbles")&&(he.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||he.event.simulate("change",this.parentNode,t,!0)}),he._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return he.event.remove(this,"._change"),!Re.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){he.event.simulate(e,t.target,he.event.fix(t),!0)};he.event.special[e]={setup:function(){0===i++&&Y.addEventListener(t,n,!0)},teardown:function(){0===--i&&Y.removeEventListener(t,n,!0)}}}),he.fn.extend({on:function(t,i,n,o,r){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(a in t)this.on(a,i,n,t[a],r);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=c;else if(!o)return this;return 1===r&&(s=o,o=function(t){return he().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=he.guid++)),this.each(function(){he.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,he(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,i,t[r]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){he.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){he.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?he.event.trigger(t,e,i,!0):void 0}});var We=/^.[^:#\[\.,]*$/,Be=/^(?:parents|prev(?:Until|All))/,Ge=he.expr.match.needsContext,ze={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(he(t).filter(function(){for(e=0;o>e;e++)if(he.contains(n[e],this))return!0}));for(e=0;o>e;e++)he.find(t,n[e],i);return i=this.pushStack(o>1?he.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=he(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(he.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&Ge.test(t)?he(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,o=this.length,r=[],a=Ge.test(t)||"string"!=typeof t?he(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&he.find.matchesSelector(i,t))){i=r.push(i);break}return this.pushStack(r.length>1?he.unique(r):r)},index:function(t){return t?"string"==typeof t?he.inArray(this[0],he(t)):he.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?he(t,e):he.makeArray(t&&t.nodeType?[t]:t),n=he.merge(this.get(),i);return this.pushStack(he.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),he.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he.dir(t,"parentNode")},parentsUntil:function(t,e,i){return he.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return he.dir(t,"nextSibling")},prevAll:function(t){return he.dir(t,"previousSibling")},nextUntil:function(t,e,i){return he.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return he.dir(t,"previousSibling",i)},siblings:function(t){return he.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return he.sibling(t.firstChild)},contents:function(t){return he.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:he.merge([],t.childNodes)}},function(t,e){he.fn[t]=function(i,n){var o=he.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=he.filter(n,o)),this.length>1&&(ze[t]||(o=he.unique(o)),Be.test(t)&&(o=o.reverse())),this.pushStack(o)}}),he.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?he.find.matchesSelector(n,t)?[n]:[]:he.find.matches(t,he.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var o=[],r=t[i];r&&9!==r.nodeType&&(n===e||1!==r.nodeType||!he(r).is(n));)1===r.nodeType&&o.push(r),r=r[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ue=/ jQuery\d+="(?:null|\d+)"/g,Xe=new RegExp("<(?:"+qe+")[\\s/>]","i"),Ve=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ze=/<tbody/i,Je=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,oi=/^true\/(.*)/,ri=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ai={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=f(Y),li=si.appendChild(Y.createElement("div"));ai.optgroup=ai.option,ai.tbody=ai.tfoot=ai.colgroup=ai.caption=ai.thead,ai.th=ai.td,he.fn.extend({text:function(t){return he.access(this,function(t){return t===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?he.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||he.cleanData(x(i)),i.parentNode&&(e&&he.contains(i.ownerDocument,i)&&v(x(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&he.cleanData(x(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&he.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return he.clone(this,t,e)})},html:function(t){return he.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ue,""):e;if(!("string"!=typeof t||ti.test(t)||!he.support.htmlSerialize&&Xe.test(t)||!he.support.leadingWhitespace&&Ve.test(t)||ai[(Qe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ye,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(he.cleanData(x(i,!1)),i.innerHTML=t);i=0}catch(r){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=he.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],o=t[e++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),he(this).remove(),o.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=ne.apply([],t);var n,o,r,a,s,l,c=0,h=this.length,u=this,d=h-1,f=t[0],p=he.isFunction(f);if(p||!(1>=h||"string"!=typeof f||he.support.checkClone)&&ii.test(f))return this.each(function(n){var o=u.eq(n);p&&(t[0]=f.call(this,n,o.html())),o.domManip(t,e,i)});if(h&&(l=he.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(a=he.map(x(l,"script"),g),r=a.length;h>c;c++)o=l,c!==d&&(o=he.clone(o,!0,!0),r&&he.merge(a,x(o,"script"))),e.call(this[c],o,c);if(r)for(s=a[a.length-1].ownerDocument,he.map(a,m),c=0;r>c;c++)o=a[c],ni.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(s,o)&&(o.src?he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ri,"")));l=n=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){he.fn[t]=function(t){for(var i,n=0,o=[],r=he(t),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),he(r[n])[e](i),oe.apply(o,i.get());return this.pushStack(o)}}),he.extend({clone:function(t,e,i){var n,o,r,a,s,l=he.contains(t.ownerDocument,t);if(he.support.html5Clone||he.isXMLDoc(t)||!Xe.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(li.innerHTML=t.outerHTML,li.removeChild(r=li.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(n=x(r),s=x(t),a=0;null!=(o=s[a]);++a)n[a]&&b(o,n[a]);if(e)if(i)for(s=s||x(t),n=n||x(r),a=0;null!=(o=s[a]);a++)y(o,n[a]);else y(t,r);return n=x(r,"script"),n.length>0&&v(n,!l&&x(t,"script")),n=s=o=null,r},buildFragment:function(t,e,i,n){for(var o,r,a,s,l,c,h,u=t.length,d=f(e),p=[],g=0;u>g;g++)if(r=t[g],r||0===r)if("object"===he.type(r))he.merge(p,r.nodeType?[r]:r);else if(Je.test(r)){for(s=s||d.appendChild(e.createElement("div")),l=(Qe.exec(r)||["",""])[1].toLowerCase(),h=ai[l]||ai._default,s.innerHTML=h[1]+r.replace(Ye,"<$1></$2>")+h[2],o=h[0];o--;)s=s.lastChild;if(!he.support.leadingWhitespace&&Ve.test(r)&&p.push(e.createTextNode(Ve.exec(r)[0])),!he.support.tbody)for(r="table"!==l||Ze.test(r)?"<table>"!==h[1]||Ze.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)he.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(he.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(e.createTextNode(r));for(s&&d.removeChild(s),he.support.appendChecked||he.grep(x(p,"input"),w),g=0;r=p[g++];)if((!n||-1===he.inArray(r,n))&&(a=he.contains(r.ownerDocument,r),s=x(d.appendChild(r),"script"),a&&v(s),i))for(o=0;r=s[o++];)ni.test(r.type||"")&&i.push(r);return s=null,d},cleanData:function(t,e){for(var i,n,o,r,a=0,s=he.expando,l=he.cache,c=he.support.deleteExpando,h=he.event.special;null!=(i=t[a]);a++)if((e||he.acceptData(i))&&(o=i[s],r=o&&l[o])){if(r.events)for(n in r.events)h[n]?he.event.remove(i,n):he.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==X?i.removeAttribute(s):i[s]=null,ee.push(o))}},_evalUrl:function(t){return he.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return he.isFunction(t)?this.each(function(e){he(this).wrapInner(t.call(this,e))}):this.each(function(){var e=he(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=he.isFunction(t);return this.each(function(i){he(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}});var ci,hi,ui,di=/alpha\([^)]*\)/i,fi=/opacity\s*=\s*([^)]*)/,pi=/^(top|right|bottom|left)$/,gi=/^(none|table(?!-c[ea]).+)/,mi=/^margin/,vi=new RegExp("^("+ue+")(.*)$","i"),yi=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),bi=new RegExp("^([+-])=("+ue+")","i"),xi={BODY:"block"},wi={position:"absolute",visibility:"hidden",display:"block"},Ci={letterSpacing:0,fontWeight:400},Si=["Top","Right","Bottom","Left"],Ti=["Webkit","O","Moz","ms"];he.fn.extend({css:function(t,i){return he.access(this,function(t,i,n){var o,r,a={},s=0;if(he.isArray(i)){for(r=hi(t),o=i.length;o>s;s++)a[i[s]]=he.css(t,i[s],!1,r);return a}return n!==e?he.style(t,i,n):he.css(t,i)},t,i,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:S(this))?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ui(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,s,l=he.camelCase(i),c=t.style;if(i=he.cssProps[l]||(he.cssProps[l]=C(c,l)),s=he.cssHooks[i]||he.cssHooks[l],n===e)return s&&"get"in s&&(r=s.get(t,!1,o))!==e?r:c[i];if(a=typeof n,"string"===a&&(r=bi.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(he.css(t,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||he.cssNumber[l]||(n+="px"),he.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&(n=s.set(t,n,o))===e)))try{c[i]=n}catch(h){}}},css:function(t,i,n,o){var r,a,s,l=he.camelCase(i);return i=he.cssProps[l]||(he.cssProps[l]=C(t.style,l)),s=he.cssHooks[i]||he.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,n)),a===e&&(a=ui(t,i,o)),"normal"===a&&i in Ci&&(a=Ci[i]),""===n||n?(r=parseFloat(a),n===!0||he.isNumeric(r)?r||0:a):a}}),t.getComputedStyle?(hi=function(e){return t.getComputedStyle(e,null)},ui=function(t,i,n){var o,r,a,s=n||hi(t),l=s?s.getPropertyValue(i)||s[i]:e,c=t.style;return s&&(""!==l||he.contains(t.ownerDocument,t)||(l=he.style(t,i)),yi.test(l)&&mi.test(i)&&(o=c.width,r=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=o,c.minWidth=r,c.maxWidth=a)),l}):Y.documentElement.currentStyle&&(hi=function(t){return t.currentStyle},ui=function(t,i,n){var o,r,a,s=n||hi(t),l=s?s[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),yi.test(l)&&!pi.test(i)&&(o=c.left,r=t.runtimeStyle,a=r&&r.left,a&&(r.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,a&&(r.left=a)),""===l?"auto":l}),he.each(["height","width"],function(t,e){he.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&gi.test(he.css(t,"display"))?he.swap(t,wi,function(){return K(t,e,n)}):K(t,e,n):void 0},set:function(t,i,n){var o=n&&hi(t);return _(t,i,n?k(t,e,n,he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,o),o):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(t,e){return fi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=he.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===he.trim(r.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=di.test(r)?r.replace(di,o):r+" "+o)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(t,e){return e?he.swap(t,{display:"inline-block"},ui,[t,"marginRight"]):void 0}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(t,e){he.cssHooks[e]={get:function(t,i){return i?(i=ui(t,e),yi.test(i)?he(t).position()[e]+"px":i):void 0}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!he.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||he.css(t,"display"))},he.expr.filters.visible=function(t){return!he.expr.filters.hidden(t)}),he.each({margin:"",padding:"",border:"Width"},function(t,e){he.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Si[n]+e]=r[n]||r[n-2]||r[0];return o}},mi.test(t)||(he.cssHooks[t+e].set=_)});var _i=/%20/g,ki=/\[\]$/,Ki=/\r?\n/g,Pi=/^(?:submit|button|image|reset|file)$/i,Ni=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=he.prop(this,"elements");return t?he.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!he(this).is(":disabled")&&Ni.test(this.nodeName)&&!Pi.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=he(this).val();return null==i?null:he.isArray(i)?he.map(i,function(t){return{name:e.name,value:t.replace(Ki,"\r\n")}}):{name:e.name,value:i.replace(Ki,"\r\n")}}).get()}}),he.param=function(t,i){var n,o=[],r=function(t,e){e=he.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(t)||t.jquery&&!he.isPlainObject(t))he.each(t,function(){r(this.name,this.value)});else for(n in t)E(n,t[n],i,r);return o.join("&").replace(_i,"+")},he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){he.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),he.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Ei,Ai,Li=he.now(),Di=/\?/,Fi=/#.*$/,ji=/([?&])_=[^&]*/,Mi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ri=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hi=/^(?:GET|HEAD)$/,Ii=/^\/\//,Oi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$i=he.fn.load,Wi={},Bi={},Gi="*/".concat("*");try{Ai=V.href}catch(zi){Ai=Y.createElement("a"),Ai.href="",Ai=Ai.href}Ei=Oi.exec(Ai.toLowerCase())||[],he.fn.load=function(t,i,n){if("string"!=typeof t&&$i)return $i.apply(this,arguments);var o,r,a,s=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),he.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(a="POST"),s.length>0&&he.ajax({url:t,type:a,dataType:"html",data:i}).done(function(t){r=arguments,s.html(o?he("<div>").append(he.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){he.fn[e]=function(t){return this.on(e,t)}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ai,type:"GET",isLocal:Ri.test(Ei[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?D(D(t,he.ajaxSettings),e):D(he.ajaxSettings,t)},ajaxPrefilter:A(Wi),ajaxTransport:A(Bi),ajax:function(t,i){function n(t,i,n,o){var r,u,y,b,w,S=i;2!==x&&(x=2,l&&clearTimeout(l),h=e,s=o||"",C.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(b=F(d,C,n)),b=j(d,b,C,r),r?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(he.lastModified[a]=w),w=C.getResponseHeader("etag"),w&&(he.etag[a]=w)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=b.state,u=b.data,y=b.error,r=!y)):(y=S,(t||!S)&&(S="error",0>t&&(t=0))),C.status=t,C.statusText=(i||S)+"",r?g.resolveWith(f,[u,S,C]):g.rejectWith(f,[C,S,y]),C.statusCode(v),v=e,c&&p.trigger(r?"ajaxSuccess":"ajaxError",[C,d,r?u:y]),m.fireWith(f,[C,S]),c&&(p.trigger("ajaxComplete",[C,d]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,r,a,s,l,c,h,u,d=he.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?he(f):he.event,g=he.Deferred(),m=he.Callbacks("once memory"),v=d.statusCode||{},y={},b={},x=0,w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!u)for(u={};e=Mi.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||w;return h&&h.abort(e),n(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((t||d.url||Ai)+"").replace(Fi,"").replace(Ii,Ei[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=he.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(o=Oi.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===Ei[1]&&o[2]===Ei[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Ei[3]||("http:"===Ei[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=he.param(d.data,d.traditional)),L(Wi,d,i,C),2===x)return C;c=d.global,c&&0===he.active++&&he.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Hi.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Di.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ji.test(a)?a.replace(ji,"$1_="+Li++):a+(Di.test(a)?"&":"?")+"_="+Li++)),d.ifModified&&(he.lastModified[a]&&C.setRequestHeader("If-Modified-Since",he.lastModified[a]),he.etag[a]&&C.setRequestHeader("If-None-Match",he.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gi+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)C.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(f,C,d)===!1||2===x))return C.abort();w="abort";for(r in{success:1,error:1,complete:1})C[r](d[r]);if(h=L(Bi,d,i,C)){C.readyState=1,c&&p.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},d.timeout));try{x=1,h.send(y,n)}catch(S){if(!(2>x))throw S;n(-1,S)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return he.get(t,e,i,"json")},getScript:function(t,i){return he.get(t,e,i,"script")}}),he.each(["get","post"],function(t,i){he[i]=function(t,n,o,r){return he.isFunction(n)&&(r=r||o,o=n,n=e),he.ajax({url:t,type:i,dataType:r,data:n,success:o})}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return he.globalEval(t),t}}}),he.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)
}),he.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=Y.head||he("head")[0]||Y.documentElement;return{send:function(e,o){i=Y.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var qi=[],Ui=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qi.pop()||he.expando+"_"+Li++;return this[t]=!0,t}}),he.ajaxPrefilter("json jsonp",function(i,n,o){var r,a,s,l=i.jsonp!==!1&&(Ui.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ui.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(r=i.jsonpCallback=he.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ui,"$1"+r):i.jsonp!==!1&&(i.url+=(Di.test(i.url)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return s||he.error(r+" was not called"),s[0]},i.dataTypes[0]="json",a=t[r],t[r]=function(){s=arguments},o.always(function(){t[r]=a,i[r]&&(i.jsonpCallback=n.jsonpCallback,qi.push(r)),s&&he.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Xi,Vi,Yi=0,Qi=t.ActiveXObject&&function(){var t;for(t in Xi)Xi[t](e,!0)};he.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&M()||R()}:M,Vi=he.ajaxSettings.xhr(),he.support.cors=!!Vi&&"withCredentials"in Vi,Vi=he.support.ajax=!!Vi,Vi&&he.ajaxTransport(function(i){if(!i.crossDomain||he.support.cors){var n;return{send:function(o,r){var a,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(s in o)l.setRequestHeader(s,o[s])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,o){var s,c,h,u;try{if(n&&(o||4===l.readyState))if(n=e,a&&(l.onreadystatechange=he.noop,Qi&&delete Xi[a]),o)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{h=l.statusText}catch(d){h=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(f){o||r(-1,f)}u&&r(s,h,u,c)},i.async?4===l.readyState?setTimeout(n):(a=++Yi,Qi&&(Xi||(Xi={},he(t).unload(Qi)),Xi[a]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Zi,Ji,tn=/^(?:toggle|show|hide)$/,en=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),nn=/queueHooks$/,on=[W],rn={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=en.exec(e),r=o&&o[3]||(he.cssNumber[t]?"":"px"),a=(he.cssNumber[t]||"px"!==r&&+n)&&en.exec(he.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,he.style(i.elem,t,a+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};he.Animation=he.extend(O,{tweener:function(t,e){he.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],rn[i]=rn[i]||[],rn[i].unshift(e)},prefilter:function(t,e){e?on.unshift(t):on.push(t)}}),he.Tween=B,B.prototype={constructor:B,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(he.cssNumber[i]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,i=B.propHooks[this.prop];return this.pos=e=this.options.duration?he.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=he.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){he.fx.step[t.prop]?he.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[he.cssProps[t.prop]]||he.cssHooks[t.prop])?he.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},he.each(["toggle","show","hide"],function(t,e){var i=he.fn[e];he.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(e,!0),t,n,o)}}),he.fn.extend({fadeTo:function(t,e,i,n){return this.filter(S).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=he.isEmptyObject(t),r=he.speed(e,i,n),a=function(){var e=O(this,he.extend({},t),r);(o||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=he.timers,a=he._data(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&nn.test(i)&&o(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));(e||!n)&&he.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=he._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=he.timers,a=n?n.length:0;for(i.finish=!0,he.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),he.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){he.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),he.speed=function(t,e,i){var n=t&&"object"==typeof t?he.extend({},t):{complete:i||!i&&e||he.isFunction(t)&&t,duration:t,easing:i&&e||e&&!he.isFunction(e)&&e};return n.duration=he.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in he.fx.speeds?he.fx.speeds[n.duration]:he.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){he.isFunction(n.old)&&n.old.call(this),n.queue&&he.dequeue(this,n.queue)},n},he.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},he.timers=[],he.fx=B.prototype.init,he.fx.tick=function(){var t,i=he.timers,n=0;for(Zi=he.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||he.fx.stop(),Zi=e},he.fx.timer=function(t){t()&&he.timers.push(t)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){Ji||(Ji=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval(Ji),Ji=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length}),he.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){he.offset.setOffset(this,t,e)});var i,n,o={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(a)return i=a.documentElement,he.contains(i,r)?(typeof r.getBoundingClientRect!==X&&(o=r.getBoundingClientRect()),n=z(a),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o},he.offset={setOffset:function(t,e,i){var n=he.css(t,"position");"static"===n&&(t.style.position="relative");var o,r,a=he(t),s=a.offset(),l=he.css(t,"top"),c=he.css(t,"left"),h=("absolute"===n||"fixed"===n)&&he.inArray("auto",[l,c])>-1,u={},d={};h?(d=a.position(),o=d.top,r=d.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),he.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(u.top=e.top-s.top+o),null!=e.left&&(u.left=e.left-s.left+r),"using"in e?e.using.call(t,u):a.css(u)}},he.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===he.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),he.nodeName(t[0],"html")||(i=t.offset()),i.top+=he.css(t[0],"borderTopWidth",!0),i.left+=he.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-he.css(n,"marginTop",!0),left:e.left-i.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Q;t&&!he.nodeName(t,"html")&&"static"===he.css(t,"position");)t=t.offsetParent;return t||Q})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);he.fn[t]=function(o){return he.access(this,function(t,o,r){var a=z(t);return r===e?a?i in a?a[i]:a.document.documentElement[o]:t[o]:(a?a.scrollTo(n?he(a).scrollLeft():r,n?r:he(a).scrollTop()):t[o]=r,void 0)},t,o,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(t,i){he.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){he.fn[o]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||r===!0?"margin":"border");return he.access(this,function(i,n,o){var r;return he.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+t],r["scroll"+t],i.body["offset"+t],r["offset"+t],r["client"+t])):o===e?he.css(i,n,s):he.style(i,n,o,s)},i,a?o:e,a,null)}})}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=he:(t.jQuery=t.$=he,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var o,r,a,s,l,c,h,u;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),l=s===e?null:s,c=n.data("with-credentials")||null,h=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var d=n.data("ujs:submit-button");d&&(a.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);u={type:o||"GET",data:a,dataType:h,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),r&&(u.url=r);var f=i.ajax(u);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&s!==e&&(h+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),o=!1;return n?(i.fire(t,"confirm")&&(o=i.confirm(n),e=i.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,r,a=t(),s=i||"input,textarea",l=e.find(s);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var o=t(this),r=o.data("method"),a=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||r&&"GET"!==r||a))return!0;var s=i.handleRemote(o);return s===!1?i.enableElement(o):s.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),t(document).delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var o=t(this),r=o.data("remote")!==e,a=i.blankInputs(o,i.requiredInputSelector),s=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(a&&o.attr("novalidate")==e&&i.fire(o,"ajax:aborted:required",[a]))return i.stopEverything(n);if(r){if(s){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.4 (Thu, 10 Jan 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
function(t,e,i,n){"use strict";var o=i(t),r=i(e),a=i.fancybox=function(){a.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/),l=null,c=e.createTouch!==n,h=function(t){return t&&t.hasOwnProperty&&t instanceof i},u=function(t){return t&&"string"===i.type(t)},d=function(t){return u(t)&&t.indexOf("%")>0},f=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},p=function(t,e){var i=parseInt(t,10)||0;return e&&d(t)&&(i=a.getViewport()[e]/100*i),Math.ceil(i)},g=function(t,e){return p(t,e)+"px"};i.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(i.isPlainObject(e)||(e={}),!1!==a.close(!0))?(i.isArray(t)||(t=h(t)?i(t).get():[t]),i.each(t,function(o,r){var s,l,c,d,f,p,g,m={};"object"===i.type(r)&&(r.nodeType&&(r=i(r)),h(r)?(m={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},i.metadata&&i.extend(!0,m,r.metadata())):m=r),s=e.href||m.href||(u(r)?r:null),l=e.title!==n?e.title:m.title||"",c=e.content||m.content,d=c?"html":e.type||m.type,!d&&m.isDom&&(d=r.data("fancybox-type"),d||(f=r.prop("class").match(/fancybox\.(\w+)/),d=f?f[1]:null)),u(s)&&(d||(a.isImage(s)?d="image":a.isSWF(s)?d="swf":"#"===s.charAt(0)?d="inline":u(r)&&(d="html",c=r)),"ajax"===d&&(p=s.split(/\s+/,2),s=p.shift(),g=p.shift())),c||("inline"===d?s?c=i(u(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):m.isDom&&(c=r):"html"===d?c=s:d||s||!m.isDom||(d="inline",c=r)),i.extend(m,{href:s,type:d,content:c,title:l,selector:g}),t[o]=m}),a.opts=i.extend(!0,{},a.defaults,e),e.keys!==n&&(a.opts.keys=e.keys?i.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&t!==!0?(a.isOpen=a.isOpened=!1,a.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},o=function(){e(),i("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")},r=function(){a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":o,"beforeLoad.player":e}),n(),a.trigger("onPlayStart"))};t===!0||!a.player.isActive&&t!==!1?r():o()},next:function(t){var e=a.current;e&&(u(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(u(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var o=a.current;o&&(t=p(t),a.direction=e||o.direction[t>=o.index?"next":"prev"],a.router=i||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==n&&(a.cancel(),a._start(t)))},reposition:function(t,e){var n,o=a.current,r=o?o.wrap:null;r&&(n=a._getPosition(e),t&&"scroll"===t.type?(delete n.position,r.stop(!0,!0).animate(n,200)):(r.css(n),o.pos=i.extend({},o.dim,n)))},update:function(t){var e=t&&t.type,i=!e||"orientationchange"===e;i&&(clearTimeout(l),l=null),a.isOpen&&!l&&(l=setTimeout(function(){var n=a.current;n&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&a._setDimension(),"scroll"===e&&n.canShrink||a.reposition(t),a.trigger("onUpdate"),l=null)},i&&!c?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===i.type(t)?t:!a.current.fitToView,c&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){r.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),r.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return e?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=c&&t.innerWidth?t.innerWidth:o.width(),i.h=c&&t.innerHeight?t.innerHeight:o.height()),i},unbindEvents:function(){a.wrap&&h(a.wrap)&&a.wrap.unbind(".fb"),r.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(o.bind("orientationchange.fb"+(c?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),t=e.keys,t&&r.bind("keydown.fb",function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;return 27===r&&a.coming?!1:(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||i(s).is("[contenteditable]"))||i.each(t,function(t,s){return e.group.length>1&&s[r]!==n?(a[t](s[r]),o.preventDefault(),!1):i.inArray(r,s)>-1?(a[t](),o.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,n,o,r){for(var s=t.target||null,l=i(s),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=f(l[0]),l=i(l).parent();0===n||c||a.group.length>1&&!e.canShrink&&(r>0||o>0?a.prev(r>0?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,o=e||a.coming||a.current;if(o){if(i.isFunction(o[t])&&(n=o[t].apply(o,Array.prototype.slice.call(arguments,1))),n===!1)return!1;o.helpers&&i.each(o.helpers,function(e,n){n&&a.helpers[e]&&i.isFunction(a.helpers[e][t])&&(n=i.extend(!0,{},a.helpers[e].defaults,n),a.helpers[e][t](n,o))}),i.event.trigger(t+".fb")}},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,o,r,s,l={};if(t=p(t),e=a.group[t]||null,!e)return!1;if(l=i.extend(!0,{},a.opts,e),r=l.margin,s=l.padding,"number"===i.type(r)&&(l.margin=[r,r,r,r]),"number"===i.type(s)&&(l.padding=[s,s,s,s]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=a.group,l.index=t,a.coming=l,!1===a.trigger("beforeLoad"))return a.coming=null,void 0;if(o=l.type,n=l.href,!o)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===o||"swf"===o)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===o&&(l.aspectRatio=!0),"iframe"===o&&c&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,g(l.padding[t]))}),a.trigger("onReady"),"inline"===o||"html"===o){if(!l.content||!l.content.length)return a._error("content")}else if(!n)return a._error("href");"image"===o?a._loadImage():"ajax"===o?a._loadAjax():"iframe"===o?a._loadIframe():a._afterLoad()},_error:function(t){i.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,t.complete!==!0&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){i(this).data("ready",1),c||i(this).bind("load.fb",a.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,i=a.group,n=a.current,o=i.length,r=n.preload?Math.min(n.preload,o-1):0;for(e=1;r>=e;e+=1)t=i[(n.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,o,r,s,l=a.coming,c=a.current,u="fancybox-placeholder";if(a.hideLoading(),l&&a.isActive!==!1){if(!1===a.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),a.coming=null,void 0;switch(c&&(a.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=l,e=l.content,n=l.type,o=l.scrolling,i.extend(a,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:c}),r=t.href,n){case"inline":case"ajax":case"html":t.selector?e=i("<div>").html(e).find(t.selector):h(e)&&(e.data(u)||e.data(u,i('<div class="'+u+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data(u)).data(u,!1)}));break;case"image":e=t.tpl.image.replace("{href}",r);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',s="",i.each(t.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',s+=" "+t+'="'+i+'"'}),e+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}h(e)&&e.parent().is(t.inner)||t.inner.append(e),a.trigger("beforeShow"),t.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?c.prevMethod&&a.transitions[c.prevMethod]():i(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?t.nextMethod:t.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,n,o,r,s,l,c,h,u,f,m,v,y,b,x=a.getViewport(),w=0,C=!1,S=!1,T=a.wrap,_=a.skin,k=a.inner,K=a.current,P=K.width,N=K.height,E=K.minWidth,A=K.minHeight,L=K.maxWidth,D=K.maxHeight,F=K.scrolling,j=K.scrollOutside?K.scrollbarWidth:0,M=K.margin,R=p(M[1]+M[3]),H=p(M[0]+M[2]);if(T.add(_).add(k).width("auto").height("auto").removeClass("fancybox-tmp"),t=p(_.outerWidth(!0)-_.width()),e=p(_.outerHeight(!0)-_.height()),n=R+t,o=H+e,r=d(P)?(x.w-n)*p(P)/100:P,s=d(N)?(x.h-o)*p(N)/100:N,"iframe"===K.type){if(y=K.content,K.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(k.width(r).height(9999),b=y.contents().find("body"),j&&b.css("overflow-x","hidden"),s=b.height())}catch(I){}}else(K.autoWidth||K.autoHeight)&&(k.addClass("fancybox-tmp"),K.autoWidth||k.width(r),K.autoHeight||k.height(s),K.autoWidth&&(r=k.width()),K.autoHeight&&(s=k.height()),k.removeClass("fancybox-tmp"));if(P=p(r),N=p(s),h=r/s,E=p(d(E)?p(E,"w")-n:E),L=p(d(L)?p(L,"w")-n:L),A=p(d(A)?p(A,"h")-o:A),D=p(d(D)?p(D,"h")-o:D),l=L,c=D,K.fitToView&&(L=Math.min(x.w-n,L),D=Math.min(x.h-o,D)),m=x.w-R,v=x.h-H,K.aspectRatio?(P>L&&(P=L,N=p(P/h)),N>D&&(N=D,P=p(N*h)),E>P&&(P=E,N=p(P/h)),A>N&&(N=A,P=p(N*h))):(P=Math.max(E,Math.min(P,L)),K.autoHeight&&"iframe"!==K.type&&(k.width(P),N=k.height()),N=Math.max(A,Math.min(N,D))),K.fitToView)if(k.width(P).height(N),T.width(P+t),u=T.width(),f=T.height(),K.aspectRatio)for(;(u>m||f>v)&&P>E&&N>A&&!(w++>19);)N=Math.max(A,Math.min(D,N-10)),P=p(N*h),E>P&&(P=E,N=p(P/h)),P>L&&(P=L,N=p(P/h)),k.width(P).height(N),T.width(P+t),u=T.width(),f=T.height();else P=Math.max(E,Math.min(P,P-(u-m))),N=Math.max(A,Math.min(N,N-(f-v)));j&&"auto"===F&&s>N&&m>P+t+j&&(P+=j),k.width(P).height(N),T.width(P+t),u=T.width(),f=T.height(),C=(u>m||f>v)&&P>E&&N>A,S=K.aspectRatio?l>P&&c>N&&r>P&&s>N:(l>P||c>N)&&(r>P||s>N),i.extend(K,{dim:{width:g(u),height:g(f)},origWidth:r,origHeight:s,canShrink:C,canExpand:S,wPadding:t,hPadding:e,wrapSpace:f-_.outerHeight(!0),skinSpace:_.height()-N}),!y&&K.autoHeight&&N>A&&D>N&&!S&&k.height("auto")},_getPosition:function(t){var e=a.current,i=a.getViewport(),n=e.margin,o=a.wrap.width()+n[1]+n[3],r=a.wrap.height()+n[0]+n[2],s={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&r<=i.h&&o<=i.w?s.position="fixed":e.locked||(s.top+=i.y,s.left+=i.x),s.top=g(Math.max(s.top,s.top+(i.h-r)*e.topRatio)),s.left=g(Math.max(s.left,s.left+(i.w-o)*e.leftRatio)),s},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&a.group.length>1&&((t.loop||t.index>0)&&i(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&i(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,i=t.orig,n={},o=50,r=50,s=t.hPadding,l=t.wPadding,c=a.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),h(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),r=i.outerHeight())):(n.top=c.y+(c.h-r)*t.topRatio,n.left=c.x+(c.w-o)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(n.top-=c.y,n.left-=c.x),n={top:g(n.top-s*t.topRatio),left:g(n.left-l*t.leftRatio),width:g(o+l),height:g(r+s)}},step:function(t,e){var i,n,o,r=e.prop,s=a.current,l=s.wrapSpace,c=s.skinSpace;("width"===r||"height"===r)&&(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(i=1-i),n="width"===r?s.wPadding:s.hPadding,o=t-n,a.skin[r](p("width"===r?o:o-l*i)),a.inner[r](p("width"===r?o:o-l*i-c*i)))},zoomIn:function(){var t=a.current,e=t.pos,n=t.openEffect,o="elastic"===n,r=i.extend({opacity:1},e);delete r.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),a.wrap.css(e).animate(r,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),a.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,i=e.nextEffect,n=e.pos,o={opacity:1},r=a.direction,s=200;n.opacity=.1,"elastic"===i&&(t="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(n[t]=g(p(n[t])-s),o[t]="+="+s+"px"):(n[t]=g(p(n[t])+s),o[t]="-="+s+"px")),"none"===i?a._afterZoomIn():a.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,n={opacity:.1},o=a.direction,r=200;"elastic"===e&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"="+r+"px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,create:function(t){t=i.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){i(t.target).hasClass("fancybox-overlay")&&(a.isActive?a.close():e.close())}),this.overlay.css(t.css).show()},close:function(){i(".fancybox-overlay").remove(),o.unbind("resize.overlay"),this.overlay=null,this.margin!==!1&&(i("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),s?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),r.width()>t&&(i=r.width())):r.width()>o.width()&&(i=r.width()),this.overlay.width(i).height(r.height())},onReady:function(t,n){i(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=r.height()>o.height()||"scroll"===i("body").css("overflow-y")?i("body").css("margin-right"):!1,this.el=e.all&&!e.querySelector?i("html"):i("body"),this.create(t)),t.locked&&this.fixed&&(n.locked=this.overlay.append(n.wrap),n.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),this.margin!==!1&&i("body").css("margin-right",p(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.isActive&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,o=a.current,r=o.title,l=t.type;if(i.isFunction(r)&&(r=r.call(o.element,o)),u(r)&&""!==i.trim(r)){switch(e=i('<div class="fancybox-title fancybox-title-'+l+'-wrap">'+r+"</div>"),l){case"inside":n=a.skin;break;case"outside":n=a.wrap;break;case"over":n=a.inner;break;default:n=a.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(p(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(t){var e,n=i(this),o=this.selector||"",s=function(r){var s,l,c=i(this).blur(),h=e;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=o.length?i(o):n,c=c.filter("["+s+'="'+l+'"]'),h=c.index(this)),t.index=h,a.open(c,t)!==!1&&r.preventDefault())};return t=t||{},e=t.index||0,o&&t.live!==!1?r.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):n.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),i.extend(a.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})}(window,document,jQuery),function(t,e,i,n){var o=i(t),r=i(e),a=i.fancybox=function(){a.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/),l=null,c=e.createTouch!==n,h=function(t){return t&&t.hasOwnProperty&&t instanceof i},u=function(t){return t&&"string"===i.type(t)},d=function(t){return u(t)&&0<t.indexOf("%")},f=function(t,e){var i=parseInt(t,10)||0;return e&&d(t)&&(i*=a.getViewport()[e]/100),Math.ceil(i)},p=function(t,e){return f(t,e)+"px"};i.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(i.isPlainObject(e)||(e={}),!1!==a.close(!0))?(i.isArray(t)||(t=h(t)?i(t).get():[t]),i.each(t,function(o,r){var s,l,c,d,f,p={};"object"===i.type(r)&&(r.nodeType&&(r=i(r)),h(r)?(p={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},i.metadata&&i.extend(!0,p,r.metadata())):p=r),s=e.href||p.href||(u(r)?r:null),l=e.title!==n?e.title:p.title||"",d=(c=e.content||p.content)?"html":e.type||p.type,!d&&p.isDom&&(d=r.data("fancybox-type"),d||(d=(d=r.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),u(s)&&(d||(a.isImage(s)?d="image":a.isSWF(s)?d="swf":"#"===s.charAt(0)?d="inline":u(r)&&(d="html",c=r)),"ajax"===d&&(f=s.split(/\s+/,2),s=f.shift(),f=f.shift())),c||("inline"===d?s?c=i(u(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):p.isDom&&(c=r):"html"===d?c=s:!d&&!s&&p.isDom&&(d="inline",c=r)),i.extend(p,{href:s,type:d,content:c,title:l,selector:f}),t[o]=p}),a.opts=i.extend(!0,{},a.defaults,e),e.keys!==n&&(a.opts.keys=e.keys?i.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==t?(a.isOpen=a.isOpened=!1,a.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},o=function(){e(),i("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===t||!a.player.isActive&&!1!==t?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":o,"beforeLoad.player":e}),n(),a.trigger("onPlayStart")):o()},next:function(t){var e=a.current;e&&(u(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(u(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var o=a.current;o&&(t=f(t),a.direction=e||o.direction[t>=o.index?"next":"prev"],a.router=i||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==n&&(a.cancel(),a._start(t)))},reposition:function(t,e){var n,o=a.current,r=o?o.wrap:null;r&&(n=a._getPosition(e),t&&"scroll"===t.type?(delete n.position,r.stop(!0,!0).animate(n,200)):(r.css(n),o.pos=i.extend({},o.dim,n)))},update:function(t){var e=t&&t.type,i=!e||"orientationchange"===e;i&&(clearTimeout(l),l=null),a.isOpen&&!l&&(l=setTimeout(function(){var n=a.current;n&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&a._setDimension(),"scroll"===e&&n.canShrink||a.reposition(t),a.trigger("onUpdate"),l=null)},i&&!c?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===i.type(t)?t:!a.current.fitToView,c&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){r.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),r.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return e?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=c&&t.innerWidth?t.innerWidth:o.width(),i.h=c&&t.innerHeight?t.innerHeight:o.height()),i},unbindEvents:function(){a.wrap&&h(a.wrap)&&a.wrap.unbind(".fb"),r.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(o.bind("orientationchange.fb"+(c?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),(t=e.keys)&&r.bind("keydown.fb",function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;return 27===r&&a.coming?!1:(!(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||i(s).is("[contenteditable]"))||!i.each(t,function(t,s){return 1<e.group.length&&s[r]!==n?(a[t](s[r]),o.preventDefault(),!1):-1<i.inArray(r,s)?(a[t](),o.preventDefault(),!1):void 0})),void 0)}),i.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,n,o,r){for(var s=i(t.target||null),l=!1;s.length&&!l&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=i(s).parent();0!==n&&!l&&1<a.group.length&&!e.canShrink&&(r>0||o>0?a.prev(r>0?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,o=e||a.coming||a.current;if(o){if(i.isFunction(o[t])&&(n=o[t].apply(o,Array.prototype.slice.call(arguments,1))),!1===n)return!1;o.helpers&&i.each(o.helpers,function(e,n){n&&a.helpers[e]&&i.isFunction(a.helpers[e][t])&&(n=i.extend(!0,{},a.helpers[e].defaults,n),a.helpers[e][t](n,o))}),i.event.trigger(t+".fb")}},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,o={};if(t=f(t),e=a.group[t]||null,!e)return!1;if(o=i.extend(!0,{},a.opts,e),e=o.margin,n=o.padding,"number"===i.type(e)&&(o.margin=[e,e,e,e]),"number"===i.type(n)&&(o.padding=[n,n,n,n]),o.modal&&i.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=a.group,o.index=t,a.coming=o,!1===a.trigger("beforeLoad"))a.coming=null;else{if(n=o.type,e=o.href,!n)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===n||"swf"===n)&&(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===n&&(o.aspectRatio=!0),"iframe"===n&&c&&(o.scrolling="scroll"),o.wrap=i(o.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),i.extend(o,{skin:i(".fancybox-skin",o.wrap),outer:i(".fancybox-outer",o.wrap),inner:i(".fancybox-inner",o.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){o.skin.css("padding"+e,p(o.padding[t]))}),a.trigger("onReady"),"inline"===n||"html"===n){if(!o.content||!o.content.length)return a._error("content")}else if(!e)return a._error("href");"image"===n?a._loadImage():"ajax"===n?a._loadAjax():"iframe"===n?a._loadIframe():a._afterLoad()}},_error:function(t){i.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")
},t.src=a.coming.href,!0!==t.complete&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){i(this).data("ready",1),c||i(this).bind("load.fb",a.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,i=a.group,n=a.current,o=i.length,r=n.preload?Math.min(n.preload,o-1):0;for(e=1;r>=e;e+=1)t=i[(n.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,o,r,s=a.coming,l=a.current;if(a.hideLoading(),s&&!1!==a.isActive)if(!1===a.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=s.content,e=s.type,n=s.scrolling,i.extend(a,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,e){case"inline":case"ajax":case"html":s.selector?t=i("<div>").html(t).find(s.selector):h(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),s.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=s.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',r="",i.each(s.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',r+=" "+e+'="'+i+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!h(t)||!t.parent().is(s.inner))&&s.inner.append(t),a.trigger("beforeShow"),s.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():i(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?s.nextMethod:s.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,n,o,r,s,l,c,h,u=a.getViewport(),g=0,m=!1,v=!1,m=a.wrap,y=a.skin,b=a.inner,x=a.current,v=x.width,w=x.height,C=x.minWidth,S=x.minHeight,T=x.maxWidth,_=x.maxHeight,k=x.scrolling,K=x.scrollOutside?x.scrollbarWidth:0,P=x.margin,N=f(P[1]+P[3]),E=f(P[0]+P[2]);if(m.add(y).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),P=f(y.outerWidth(!0)-y.width()),t=f(y.outerHeight(!0)-y.height()),e=N+P,n=E+t,o=d(v)?(u.w-e)*f(v)/100:v,r=d(w)?(u.h-n)*f(w)/100:w,"iframe"===x.type){if(h=x.content,x.autoHeight&&1===h.data("ready"))try{h[0].contentWindow.document.location&&(b.width(o).height(9999),s=h.contents().find("body"),K&&s.css("overflow-x","hidden"),r=s.height())}catch(A){}}else(x.autoWidth||x.autoHeight)&&(b.addClass("fancybox-tmp"),x.autoWidth||b.width(o),x.autoHeight||b.height(r),x.autoWidth&&(o=b.width()),x.autoHeight&&(r=b.height()),b.removeClass("fancybox-tmp"));if(v=f(o),w=f(r),c=o/r,C=f(d(C)?f(C,"w")-e:C),T=f(d(T)?f(T,"w")-e:T),S=f(d(S)?f(S,"h")-n:S),_=f(d(_)?f(_,"h")-n:_),s=T,l=_,x.fitToView&&(T=Math.min(u.w-e,T),_=Math.min(u.h-n,_)),e=u.w-N,E=u.h-E,x.aspectRatio?(v>T&&(v=T,w=f(v/c)),w>_&&(w=_,v=f(w*c)),C>v&&(v=C,w=f(v/c)),S>w&&(w=S,v=f(w*c))):(v=Math.max(C,Math.min(v,T)),x.autoHeight&&"iframe"!==x.type&&(b.width(v),w=b.height()),w=Math.max(S,Math.min(w,_))),x.fitToView)if(b.width(v).height(w),m.width(v+P),u=m.width(),N=m.height(),x.aspectRatio)for(;(u>e||N>E)&&v>C&&w>S&&!(19<g++);)w=Math.max(S,Math.min(_,w-10)),v=f(w*c),C>v&&(v=C,w=f(v/c)),v>T&&(v=T,w=f(v/c)),b.width(v).height(w),m.width(v+P),u=m.width(),N=m.height();else v=Math.max(C,Math.min(v,v-(u-e))),w=Math.max(S,Math.min(w,w-(N-E)));K&&"auto"===k&&r>w&&e>v+P+K&&(v+=K),b.width(v).height(w),m.width(v+P),u=m.width(),N=m.height(),m=(u>e||N>E)&&v>C&&w>S,v=x.aspectRatio?s>v&&l>w&&o>v&&r>w:(s>v||l>w)&&(o>v||r>w),i.extend(x,{dim:{width:p(u),height:p(N)},origWidth:o,origHeight:r,canShrink:m,canExpand:v,wPadding:P,hPadding:t,wrapSpace:N-y.outerHeight(!0),skinSpace:y.height()-w}),!h&&x.autoHeight&&w>S&&_>w&&!v&&b.height("auto")},_getPosition:function(t){var e=a.current,i=a.getViewport(),n=e.margin,o=a.wrap.width()+n[1]+n[3],r=a.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&r<=i.h&&o<=i.w?n.position="fixed":e.locked||(n.top+=i.y,n.left+=i.x),n.top=p(Math.max(n.top,n.top+(i.h-r)*e.topRatio)),n.left=p(Math.max(n.left,n.left+(i.w-o)*e.leftRatio)),n},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&1<a.group.length)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){!i(e.target).is("a")&&!i(e.target).parent().is("a")&&(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&1<a.group.length&&((t.loop||0<t.index)&&i(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&i(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,i=t.orig,n={},o=50,r=50,s=t.hPadding,l=t.wPadding,c=a.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),h(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),r=i.outerHeight())):(n.top=c.y+(c.h-r)*t.topRatio,n.left=c.x+(c.w-o)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(n.top-=c.y,n.left-=c.x),n={top:p(n.top-s*t.topRatio),left:p(n.left-l*t.leftRatio),width:p(o+l),height:p(r+s)}},step:function(t,e){var i,n,o=e.prop;n=a.current;var r=n.wrapSpace,s=n.skinSpace;("width"===o||"height"===o)&&(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(i=1-i),n="width"===o?n.wPadding:n.hPadding,n=t-n,a.skin[o](f("width"===o?n:n-r*i)),a.inner[o](f("width"===o?n:n-r*i-s*i)))},zoomIn:function(){var t=a.current,e=t.pos,n=t.openEffect,o="elastic"===n,r=i.extend({opacity:1},e);delete r.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),a.wrap.css(e).animate(r,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),a.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,i=e.nextEffect,n=e.pos,o={opacity:1},r=a.direction;n.opacity=.1,"elastic"===i&&(t="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(n[t]=p(f(n[t])-200),o[t]="+=200px"):(n[t]=p(f(n[t])+200),o[t]="-=200px")),"none"===i?a._afterZoomIn():a.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,n={opacity:.1},o=a.direction;"elastic"===e&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,create:function(t){t=i.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){i(t.target).hasClass("fancybox-overlay")&&(a.isActive?a.close():e.close())}),this.overlay.css(t.css).show()},close:function(){i(".fancybox-overlay").remove(),o.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(i("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),s?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),r.width()>t&&(i=r.width())):r.width()>o.width()&&(i=r.width()),this.overlay.width(i).height(r.height())},onReady:function(t,n){i(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=r.height()>o.height()||"scroll"===i("body").css("overflow-y")?i("body").css("margin-right"):!1,this.el=e.all&&!e.querySelector?i("html"):i("body"),this.create(t)),t.locked&&this.fixed&&(n.locked=this.overlay.append(n.wrap),n.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&i("body").css("margin-right",f(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.isActive&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=a.current,n=e.title,o=t.type;if(i.isFunction(n)&&(n=n.call(e.element,e)),u(n)&&""!==i.trim(n)){switch(e=i('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+n+"</div>"),o){case"inside":o=a.skin;break;case"outside":o=a.wrap;break;case"over":o=a.inner;break;default:o=a.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](o)}}},i.fn.fancybox=function(t){var e,n=i(this),o=this.selector||"",s=function(r){var s,l,c=i(this).blur(),h=e;!(r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=o.length?i(o):n,c=c.filter("["+s+'="'+l+'"]'),h=c.index(this)),t.index=h,!1===a.open(c,t)||!r.preventDefault()))};return t=t||{},e=t.index||0,o&&!1!==t.live?r.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):n.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){if(i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),i.support.fixedPosition===n){var t=i.support,e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),o=20===e[0].offsetTop||15===e[0].offsetTop;e.remove(),t.fixedPosition=o}i.extend(a.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})}(window,document,jQuery),function(t){var e=t.fancybox;e.helpers.buttons={defaults:{skipSingle:!1,position:"top",tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>'},list:null,buttons:null,beforeLoad:function(t,e){return t.skipSingle&&e.group.length<2?(e.helpers.buttons=!1,e.closeBtn=!0,void 0):(e.margin["bottom"===t.position?2:0]+=30,void 0)},onPlayStart:function(){this.buttons&&this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")},onPlayEnd:function(){this.buttons&&this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")},afterShow:function(i,n){var o=this.buttons;o||(this.list=t(i.tpl).addClass(i.position).appendTo("body"),o={prev:this.list.find(".btnPrev").click(e.prev),next:this.list.find(".btnNext").click(e.next),play:this.list.find(".btnPlay").click(e.play),toggle:this.list.find(".btnToggle").click(e.toggle)}),n.index>0||n.loop?o.prev.removeClass("btnDisabled"):o.prev.addClass("btnDisabled"),n.loop||n.index<n.group.length-1?(o.next.removeClass("btnDisabled"),o.play.removeClass("btnDisabled")):(o.next.addClass("btnDisabled"),o.play.addClass("btnDisabled")),this.buttons=o,this.onUpdate(i,n)},onUpdate:function(t,e){var i;this.buttons&&(i=this.buttons.toggle.removeClass("btnDisabled btnToggleOn"),e.canShrink?i.addClass("btnToggleOn"):e.canExpand||i.addClass("btnDisabled"))},beforeClose:function(){this.list&&this.list.remove(),this.list=null,this.buttons=null}}}(jQuery),function(t){"use strict";var e=t.fancybox,i=function(e,i,n){return n=n||"","object"===t.type(n)&&(n=t.param(n,!0)),t.each(i,function(t,i){e=e.replace("$"+t,i||"")}),n.length&&(e+=(e.indexOf("?")>0?"&":"?")+n),e};e.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,i,n){return n.swf.flashVars="playerVars="+t.param(i,!0),"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[1]+"/"+t[3]+t[4]+"&output="+(t[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(e,n){var o,r,a,s,l=n.href||"",c=!1;for(o in e)if(r=e[o],a=l.match(r.matcher)){c=r.type,s=t.extend(!0,{},r.params,n[o]||(t.isPlainObject(e[o])?e[o].params:null)),l="function"===t.type(r.url)?r.url.call(this,a,s,n):i(r.url,a,s);break}c&&(n.href=l,n.type=c,n.autoHeight=!1)}}}(jQuery),function(t){var e=t.fancybox;e.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(e){var i;return e.element&&(i=t(e.element).find("img").attr("src")),!i&&"image"===e.type&&e.href&&(i=e.href),i}},wrap:null,list:null,width:0,init:function(e,i){var n,o=this,r=e.width,a=e.height,s=e.source;n="";for(var l=0;l<i.group.length;l++)n+='<li><a style="width:'+r+"px;height:"+a+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>';this.wrap=t('<div id="fancybox-thumbs"></div>').addClass(e.position).appendTo("body"),this.list=t("<ul>"+n+"</ul>").appendTo(this.wrap),t.each(i.group,function(e){var n=s(i.group[e]);n&&t("<img />").load(function(){var i,n,s,l=this.width,c=this.height;o.list&&l&&c&&(i=l/r,n=c/a,s=o.list.children().eq(e).find("a"),i>=1&&n>=1&&(i>n?(l=Math.floor(l/n),c=a):(l=r,c=Math.floor(c/i))),t(this).css({width:l,height:c,top:Math.floor(a/2-c/2),left:Math.floor(r/2-l/2)}),s.width(r).height(a),t(this).hide().appendTo(s).fadeIn(300))}).attr("src",n)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(.5*t(window).width()-(i.index*this.width+.5*this.width)))},beforeLoad:function(t,e){return e.group.length<2?(e.helpers.thumbs=!1,void 0):(e.margin["top"===t.position?0:2]+=t.height+15,void 0)},afterShow:function(t,e){this.list?this.onUpdate(t,e):this.init(t,e),this.list.children().removeClass("active").eq(e.index).addClass("active")},onUpdate:function(e,i){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*t(window).width()-(i.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},t.fn.scrollTo=function(n,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==n&&(n=9e9),r=t.extend({},i.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=e(r.offset),r.over=e(r.over),this._scrollable().each(function(){function a(t){c.animate(u,o,r.easing,t&&function(){t.call(this,n,r)})}if(null!=n){var s,l=this,c=t(l),h=n,u={},d=c.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=e(h);break}if(h=t(h,this),!h.length)return;case"object":(h.is||h.style)&&(s=(h=t(h)).offset())}t.each(r.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",o=n.toLowerCase(),f="scroll"+n,p=l[f],g=i.max(l,e);if(s)u[f]=s[o]+(d?0:p-c.offset()[o]),r.margin&&(u[f]-=parseInt(h.css("margin"+n))||0,u[f]-=parseInt(h.css("border"+n+"Width"))||0),u[f]+=r.offset[o]||0,r.over[o]&&(u[f]+=h["x"==e?"width":"height"]()*r.over[o]);else{var m=h[o];u[f]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}r.limit&&/^\d+$/.test(u[f])&&(u[f]=u[f]<=0?0:Math.min(u[f],g)),!t&&r.queue&&(p!=u[f]&&a(r.onAfterFirst),delete u[f])}),a(r.onAfter)}}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",o="scroll"+n;if(!t(e).is("html,body"))return e[o]-t(e)[n.toLowerCase()]();var r="client"+n,a=e.ownerDocument.documentElement,s=e.ownerDocument.body;return Math.max(a[o],s[o])-Math.min(a[r],s[r])}}(jQuery);/**
 * KineticJS JavaScript Framework v4.5.2
 * http://www.kineticjs.com/
 * Copyright 2013, Eric Rowell
 * Licensed under the MIT or GPL Version 2 licenses.
 * Date: May 21 2013
 *
 * Copyright (C) 2011 - 2013 by Eric Rowell
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Kinetic={};!function(){Kinetic.version="4.5.2",Kinetic.Filters={},Kinetic.Node=function(t){this._nodeInit(t)},Kinetic.Shape=function(t){this._initShape(t)},Kinetic.Container=function(t){this._containerInit(t)},Kinetic.Stage=function(t){this._initStage(t)},Kinetic.Layer=function(t){this._initLayer(t)},Kinetic.Group=function(t){this._initGroup(t)},Kinetic.Global={stages:[],idCounter:0,ids:{},names:{},shapes:{},isDragging:function(){var t=Kinetic.DD;return t?t.isDragging:!1},isDragReady:function(){var t=Kinetic.DD;return t?!!t.node:!1},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){void 0!==e&&(void 0===this.names[e]&&(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(void 0!==t){var i=this.names[t];if(void 0!==i){for(var n=0;n<i.length;n++){var o=i[n];o._id===e&&i.splice(n,1)}0===i.length&&delete this.names[t]}}}}}(),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.returnExports=e()}(this,function(){return Kinetic}),function(){Kinetic.Collection=function(){var t=[].slice.call(arguments),e=t.length,i=0;for(this.length=e;e>i;i++)this[i]=t[i];return this},Kinetic.Collection.prototype=new Array,Kinetic.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Kinetic.Collection.prototype.toArray=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},Kinetic.Collection.mapMethods=function(t){var e,i=t.length;for(e=0;i>e;e++)!function(e){var i=t[e];Kinetic.Collection.prototype[i]=function(){var t,e=this.length;for(args=[].slice.call(arguments),t=0;e>t;t++)this[t][i].apply(this[t],args)}}(e)}}(),function(){Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]},Kinetic.Transform.prototype={translate:function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},scale:function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[0]*e+this.m[2]*i,o=this.m[1]*e+this.m[3]*i,r=this.m[0]*-i+this.m[2]*e,a=this.m[1]*-i+this.m[3]*e;this.m[0]=n,this.m[1]=o,this.m[2]=r,this.m[3]=a},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var i=this.m[0]+this.m[2]*e,n=this.m[1]+this.m[3]*e,o=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;this.m[0]=i,this.m[1]=n,this.m[2]=o,this.m[3]=r},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=o,this.m[4]=r,this.m[5]=a},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,o=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=o,this.m[4]=r,this.m[5]=a},getMatrix:function(){return this.m}}}(),function(){var t="canvas",e="2d",i="[object Array]",n="[object Number]",o="[object String]",r=Math.PI/180,a=180/Math.PI,s="#",l="",c="0",h="Kinetic warning: ",u="rgb(",d={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},f=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(t){return!!t&&1==t.nodeType},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return Object.prototype.toString.call(t)==i},_isNumber:function(t){return Object.prototype.toString.call(t)==n},_isString:function(t){return Object.prototype.toString.call(t)==o},_hasMethods:function(t){var e,i=[];for(e in t)this._isFunction(t[e])&&i.push(e);return i.length>0},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_getXY:function(t){if(this._isNumber(t))return{x:t,y:t};if(this._isArray(t)){if(1===t.length){var e=t[0];if(this._isNumber(e))return{x:e,y:e};if(this._isArray(e))return{x:e[0],y:e[1]};if(this._isObject(e))return e}else if(t.length>=2)return{x:t[0],y:t[1]}}else if(this._isObject(t))return t;return null},_getSize:function(t){if(this._isNumber(t))return{width:t,height:t};if(this._isArray(t))if(1===t.length){var e=t[0];if(this._isNumber(e))return{width:e,height:e};if(this._isArray(e)){if(e.length>=4)return{width:e[2],height:e[3]};if(e.length>=2)return{width:e[0],height:e[1]}}else if(this._isObject(e))return e}else{if(t.length>=4)return{width:t[2],height:t[3]};if(t.length>=2)return{width:t[0],height:t[1]}}else if(this._isObject(t))return t;return null},_getPoints:function(t){if(void 0===t)return[];if(this._isArray(t[0])){for(var e=[],i=0;i<t.length;i++)e.push({x:t[i][0],y:t[i][1]});return e}if(this._isObject(t[0]))return t;for(var e=[],i=0;i<t.length;i+=2)e.push({x:t[i],y:t[i+1]});return e},_getImage:function(i,n){var o,r,a,s;i?this._isElement(i)?n(i):this._isString(i)?(o=new Image,o.onload=function(){n(o)},o.src=i):i.data?(r=document.createElement(t),r.width=i.width,r.height=i.height,a=r.getContext(e),a.putImageData(i,0,0),s=r.toDataURL(),o=new Image,o.onload=function(){n(o)},o.src=s):n(null):n(null)},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(s,l);var e=parseInt(t,16);return{r:255&e>>16,g:255&e>>8,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=c+t;return s+t},getRGB:function(t){var e;return t in d?(e=d[t],{r:e[0],g:e[1],b:e[2]}):t[0]===s?this._hexToRgb(t.substring(1)):t.substr(0,4)===u?(e=f.exec(t.replace(/ /g,"")),{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3])}):{r:0,g:0,b:0}},_merge:function(t,e){var i=this._clone(e);for(var n in t)i[n]=this._isObject(t[n])?this._merge(t[n],i[n]):t[n];return i},_clone:function(t){var e={};for(var i in t)e[i]=this._isObject(t[i])?this._clone(t[i]):t[i];return e},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},warn:function(t){window.console&&console.warn&&console.warn(h+t)},extend:function(t,e){for(var i in e.prototype)i in t.prototype||(t.prototype[i]=e.prototype[i])},addMethods:function(t,e){var i;for(i in e)t.prototype[i]=e[i]}}}(),function(){var t=document.createElement("canvas"),e=t.getContext("2d"),i=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,o=i/n;Kinetic.Canvas=function(t){this.init(t)},Kinetic.Canvas.prototype={init:function(t){var t=t||{},e=t.width||0,i=t.height||0,n=t.pixelRatio||o,r=t.contextType||"2d";this.pixelRatio=n,this.element=document.createElement("canvas"),this.element.style.padding=0,this.element.style.margin=0,this.element.style.border=0,this.element.style.background="transparent",this.context=this.element.getContext(r),this.setSize(e,i)},getElement:function(){return this.element},getContext:function(){return this.context},setWidth:function(t){this.width=this.element.width=t*this.pixelRatio,this.element.style.width=t+"px"},setHeight:function(t){this.height=this.element.height=t*this.pixelRatio,this.element.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},clear:function(){var t=this.getContext();this.getElement(),t.clearRect(0,0,this.getWidth(),this.getHeight())},toDataURL:function(t,e){try{return this.element.toDataURL(t,e)}catch(i){try{return this.element.toDataURL()}catch(i){return Kinetic.Util.warn("Unable to get data URL. "+i.message),""}}},fill:function(t){t.getFillEnabled()&&this._fill(t)},stroke:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStroke:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t,t.hasShadow()&&t.hasFill()&&e)},applyShadow:function(t,e){var i=this.context;i.save(),this._applyShadow(t),e(),i.restore(),e()},_applyLineCap:function(t){var e=t.getLineCap();e&&(this.context.lineCap=e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&(this.context.globalAlpha=e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&(this.context.lineJoin=e)},_applyAncestorTransforms:function(t){var e,i,n=this.context;t._eachAncestorReverse(function(t){e=t.getTransform(!0),i=e.getMatrix(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5])},!0)},_clip:function(t){var e=this.getContext();e.save(),this._applyAncestorTransforms(t),e.beginPath(),t.getClipFunc()(this),e.clip(),e.setTransform(1,0,0,1,0,0)}},Kinetic.SceneCanvas=function(t){Kinetic.Canvas.call(this,t)},Kinetic.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio;Kinetic.Canvas.prototype.setWidth.call(this,t),this.context.scale(e,e)},setHeight:function(t){var e=this.pixelRatio;Kinetic.Canvas.prototype.setHeight.call(this,t),this.context.scale(e,e)},_fillColor:function(t){var e=this.context,i=t.getFill();e.fillStyle=i,t._fillFunc(e)},_fillPattern:function(t){var e=this.context,i=t.getFillPatternImage(),n=t.getFillPatternX(),o=t.getFillPatternY(),r=t.getFillPatternScale(),a=t.getFillPatternRotation(),s=t.getFillPatternOffset(),l=t.getFillPatternRepeat();(n||o)&&e.translate(n||0,o||0),a&&e.rotate(a),r&&e.scale(r.x,r.y),s&&e.translate(-1*s.x,-1*s.y),e.fillStyle=e.createPattern(i,l||"repeat"),e.fill()},_fillLinearGradient:function(t){var e=this.context,i=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),o=t.getFillLinearGradientColorStops(),r=e.createLinearGradient(i.x,i.y,n.x,n.y);if(o){for(var a=0;a<o.length;a+=2)r.addColorStop(o[a],o[a+1]);e.fillStyle=r,e.fill()}},_fillRadialGradient:function(t){for(var e=this.context,i=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),o=t.getFillRadialGradientStartRadius(),r=t.getFillRadialGradientEndRadius(),a=t.getFillRadialGradientColorStops(),s=e.createRadialGradient(i.x,i.y,o,n.x,n.y,r),l=0;l<a.length;l+=2)s.addColorStop(a[l],a[l+1]);e.fillStyle=s,e.fill()},_fill:function(t,e){var i=this.context,n=t.getFill(),o=t.getFillPatternImage(),r=t.getFillLinearGradientColorStops(),a=t.getFillRadialGradientColorStops(),s=t.getFillPriority();i.save(),!e&&t.hasShadow()&&this._applyShadow(t),n&&"color"===s?this._fillColor(t):o&&"pattern"===s?this._fillPattern(t):r&&"linear-gradient"===s?this._fillLinearGradient(t):a&&"radial-gradient"===s?this._fillRadialGradient(t):n?this._fillColor(t):o?this._fillPattern(t):r?this._fillLinearGradient(t):a&&this._fillRadialGradient(t),i.restore(),!e&&t.hasShadow()&&this._fill(t,!0)},_stroke:function(t,e){var i=this.context,n=t.getStroke(),o=t.getStrokeWidth(),r=t.getDashArray();(n||o)&&(i.save(),t.getStrokeScaleEnabled()||i.setTransform(1,0,0,1,0,0),this._applyLineCap(t),r&&t.getDashArrayEnabled()&&(i.setLineDash?i.setLineDash(r):"mozDash"in i?i.mozDash=r:"webkitLineDash"in i&&(i.webkitLineDash=r)),!e&&t.hasShadow()&&this._applyShadow(t),i.lineWidth=o||2,i.strokeStyle=n||"black",t._strokeFunc(i),i.restore(),!e&&t.hasShadow()&&this._stroke(t,!0))},_applyShadow:function(t){var e=this.context;if(t.hasShadow()&&t.getShadowEnabled()){var i=t.getAbsoluteOpacity(),n=t.getShadowColor()||"black",o=t.getShadowBlur()||5,r=t.getShadowOffset()||{x:0,y:0};t.getShadowOpacity()&&(e.globalAlpha=t.getShadowOpacity()*i),e.shadowColor=n,e.shadowBlur=o,e.shadowOffsetX=r.x,e.shadowOffsetY=r.y}}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(t){Kinetic.Canvas.call(this,t)},Kinetic.HitCanvas.prototype={_fill:function(t){var e=this.context;e.save(),e.fillStyle=t.colorKey,t._fillFuncHit(e),e.restore()},_stroke:function(t){var e=this.context,i=t.getStroke(),n=t.getStrokeWidth();(i||n)&&(this._applyLineCap(t),e.save(),e.lineWidth=n||2,e.strokeStyle=t.colorKey,t._strokeFuncHit(e),e.restore())}},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var t=" ",e="",i=".",n="get",o="set",r="Shape",a="Stage",s="X",l="Y",c="kinetic",h="before",u="Change",d="id",f="name",p="mouseenter",g="mouseleave",m="Deg",v="beforeDraw",y="draw",b="RGB",x="r",w="g",C="b",S="R",T="G",_="B",k="#",K="children";Kinetic.Util.addMethods(Kinetic.Node,{_nodeInit:function(t){this._id=Kinetic.Global.idCounter++,this.eventListeners={},this.setAttrs(t)},on:function(n,o){var r,a,s,l,c,h,u=n.split(t),d=u.length;for(r=0;d>r;r++)a=u[r],s=a,l=s.split(i),c=l[0],h=l.length>1?l[1]:e,this.eventListeners[c]||(this.eventListeners[c]=[]),this.eventListeners[c].push({name:h,handler:o});return this},off:function(e){var n,o,r,a,s,l=e.split(t),c=l.length;for(n=0;c>n;n++)if(o=l[n],r=o,a=r.split(i),s=a[0],a.length>1)if(s)this.eventListeners[s]&&this._off(s,a[1]);else for(var o in this.eventListeners)this._off(o,a[1]);else delete this.eventListeners[s];return this},remove:function(){var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices()),delete this.parent},destroy:function(){for(var t=(this.getParent(),this.getStage(),Kinetic.DD,Kinetic.Global);this.children&&this.children.length>0;)this.children[0].destroy();t._removeId(this.getId()),t._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e=n+Kinetic.Util._capitalize(t);return Kinetic.Util._isFunction(this[e])?this[e]():this.attrs[t]},setAttr:function(){var t=Array.prototype.slice.call(arguments),e=t[0],i=o+Kinetic.Util._capitalize(e),n=this[i];t.shift(),Kinetic.Util._isFunction(n)?n.apply(this,t):this.attrs[e]=t[0]},getAttrs:function(){return this.attrs||{}},createAttrs:function(){void 0===this.attrs&&(this.attrs={})},setAttrs:function(t){var e,i;if(t)for(e in t)e!==K&&(i=o+Kinetic.Util._capitalize(e),Kinetic.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]))},getVisible:function(){var t=this.attrs.visible,e=this.getParent();return void 0===t&&(t=!0),t&&e&&!e.getVisible()?!1:t},getListening:function(){var t=this.attrs.listening,e=this.getParent();return void 0===t&&(t=!0),t&&e&&!e.getListening()?!1:t},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(a){for(e=[],i=a.length,n=0;i>n;n++)o=a[n],c++,o.nodeType!==r&&(e=e.concat(o.getChildren().toArray())),o._id===l._id&&(n=i);e.length>0&&e[0].getLevel()<=s&&t(e)}var e,i,n,o,s=this.getLevel(),l=(this.getStage(),this),c=0;return l.nodeType!==a&&t(l.getStage().getChildren()),c},getLevel:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(){var t=Kinetic.Util._getXY([].slice.call(arguments));this.setX(t.x),this.setY(t.y)},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform(),e=this.getOffset();return t.translate(e.x,e.y),t.getTranslation()},setAbsolutePosition:function(){var t,e=Kinetic.Util._getXY([].slice.call(arguments)),i=this._clearTransform();this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,t=this.getAbsoluteTransform(),t.invert(),t.translate(e.x,e.y),e={x:this.attrs.x+t.getTranslation().x,y:this.attrs.y+t.getTranslation().y},this.setPosition(e.x,e.y),this._setTransform(i)},move:function(){var t=Kinetic.Util._getXY([].slice.call(arguments)),e=this.getX(),i=this.getY();void 0!==t.x&&(e+=t.x),void 0!==t.y&&(i+=t.y),this.setPosition(e,i)},_eachAncestorReverse:function(t,e){var i,n,o=[],r=this.getParent();for(e&&o.unshift(this);r;)o.unshift(r),r=r.parent;for(i=o.length,n=0;i>n;n++)t(o[n])},rotate:function(t){this.setRotation(this.getRotation()+t)},rotateDeg:function(t){this.setRotation(this.getRotation()+Kinetic.Util._degToRad(t))},moveToTop:function(){var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){var t=this.index,e=this.parent.getChildren().length;return e-1>t?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):void 0},moveDown:function(){var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):void 0},moveToBottom:function(){var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):void 0},setZIndex:function(t){var e=this.index;this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices()},getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){Kinetic.Node.prototype.remove.call(this),t.add(this)},toObject:function(){var t,e,i=Kinetic.Util,n={},o=this.getAttrs();n.attrs={};for(t in o)e=o[t],!(i._isFunction(e)||i._isElement(e)||i._isObject(e)&&i._hasMethods(e)||!(n.attrs[t]=e));return n.className=this.getClassName(),n},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){return this.getParent().getLayer()},getStage:function(){return this.getParent()?this.getParent().getStage():void 0},fire:function(t,e,i){i?this._fireAndBubble(t,e||{}):this._fire(t,e||{})},getAbsoluteTransform:function(){var t,e=new Kinetic.Transform;return this._eachAncestorReverse(function(i){t=i.getTransform(),e.multiply(t)},!0),e},_getAndCacheTransform:function(){var t=new Kinetic.Transform,e=this.getX(),i=this.getY(),n=this.getRotation(),o=this.getScaleX(),r=this.getScaleY(),a=this.getSkewX(),s=this.getSkewY(),l=this.getOffsetX(),c=this.getOffsetY();return(0!==e||0!==i)&&t.translate(e,i),0!==n&&t.rotate(n),(0!==a||0!==s)&&t.skew(a,s),(1!==o||1!==r)&&t.scale(o,r),(0!==l||0!==c)&&t.translate(-1*l,-1*c),this.cachedTransform=t,t},getTransform:function(t){var e=this.cachedTransform;return t&&e?e:this._getAndCacheTransform()},clone:function(t){var e,i,n,o,r,a=this.getClassName(),s=new Kinetic[a](this.attrs);for(e in this.eventListeners)for(i=this.eventListeners[e],n=i.length,o=0;n>o;o++)r=i[o],r.name.indexOf(c)<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(r));return s.setAttrs(t),s},toDataURL:function(t){var t=t||{},e=t.mimeType||null,i=t.quality||null,n=this.getStage(),o=t.x||0,r=t.y||0,a=new Kinetic.SceneCanvas({width:t.width||n.getWidth(),height:t.height||n.getHeight(),pixelRatio:1}),s=a.getContext();return s.save(),(o||r)&&s.translate(-1*o,-1*r),this.drawScene(a),s.restore(),a.toDataURL(e,i)},toImage:function(t){Kinetic.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(){var t=Kinetic.Util._getSize(Array.prototype.slice.call(arguments));this.setWidth(t.width),this.setHeight(t.height)},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},_get:function(t){return this.nodeType===t?[this]:[]},_off:function(t,e){var i,n=this.eventListeners[t];for(i=0;i<n.length;i++)if(n[i].name===e){if(n.splice(i,1),0===n.length){delete this.eventListeners[t];break}i--}},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this.cachedTransform=null},_fireBeforeChangeEvent:function(t,e,i){this._fire(h+Kinetic.Util._capitalize(t)+u,{oldVal:e,newVal:i})},_fireChangeEvent:function(t,e,i){this._fire(t+u,{oldVal:e,newVal:i})},setId:function(t){var e=this.getId(),i=(this.getStage(),Kinetic.Global);i._removeId(e),i._addId(this,t),this._setAttr(d,t)},setName:function(t){var e=this.getName(),i=(this.getStage(),Kinetic.Global);i._removeName(e,this._id),i._addName(this,t),this._setAttr(f,t)},_setAttr:function(t,e){var i;void 0!==e&&(i=this.attrs[t],this._fireBeforeChangeEvent(t,i,e),this.attrs[t]=e,this._fireChangeEvent(t,i,e))},_fireAndBubble:function(t,e,i){e&&this.nodeType===r&&(e.targetNode=this);var n=(this.getStage(),this.eventListeners,!0);t===p&&i&&this._id===i._id?n=!1:t===g&&i&&this._id===i._id&&(n=!1),n&&(this._fire(t,e),e&&!e.cancelBubble&&this.parent&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e)))},_fire:function(t,e){var i,n,o=this.eventListeners[t];if(o)for(i=o.length,n=0;i>n;n++)o[n].handler.call(this,e)},draw:function(){var t={node:this};this._fire(v,t),this.drawScene(),this.drawHit(),this._fire(y,t)},shouldDrawHit:function(){return this.isVisible()&&this.isListening()&&!Kinetic.Global.isDragging()}}),Kinetic.Node.addGetterSetter=function(t,e,i,n){this.addGetter(t,e,i),this.addSetter(t,e,n)},Kinetic.Node.addPointGetterSetter=function(t,e,i,n){this.addPointGetter(t,e),this.addPointSetter(t,e),this.addGetter(t,e+s,i),this.addGetter(t,e+l,i),this.addSetter(t,e+s,n),this.addSetter(t,e+l,n)},Kinetic.Node.addRotationGetterSetter=function(t,e,i,n){this.addRotationGetter(t,e,i),this.addRotationSetter(t,e,n)},Kinetic.Node.addColorGetterSetter=function(t,e){this.addGetter(t,e),this.addSetter(t,e),this.addColorRGBGetter(t,e),this.addColorComponentGetter(t,e,x),this.addColorComponentGetter(t,e,w),this.addColorComponentGetter(t,e,C),this.addColorRGBSetter(t,e),this.addColorComponentSetter(t,e,x),this.addColorComponentSetter(t,e,w),this.addColorComponentSetter(t,e,C)},Kinetic.Node.addColorRGBGetter=function(t,e){var i=n+Kinetic.Util._capitalize(e)+b;t.prototype[i]=function(){return Kinetic.Util.getRGB(this.attrs[e])}},Kinetic.Node.addColorRGBSetter=function(t,e){var i=o+Kinetic.Util._capitalize(e)+b;t.prototype[i]=function(t){var i=t&&void 0!==t.r?0|t.r:this.getAttr(e+S),n=t&&void 0!==t.g?0|t.g:this.getAttr(e+T),o=t&&void 0!==t.b?0|t.b:this.getAttr(e+_);this._setAttr(e,k+Kinetic.Util._rgbToHex(i,n,o))}},Kinetic.Node.addColorComponentGetter=function(t,e,i){var o=n+Kinetic.Util._capitalize(e),r=o+Kinetic.Util._capitalize(i);t.prototype[r]=function(){return this[o+b]()[i]}},Kinetic.Node.addColorComponentSetter=function(t,e,i){var n=o+Kinetic.Util._capitalize(e),r=n+Kinetic.Util._capitalize(i);t.prototype[r]=function(t){var e={};e[i]=t,this[n+b](e)}},Kinetic.Node.addSetter=function(t,e,i){var n=o+Kinetic.Util._capitalize(e);t.prototype[n]=function(t){this._setAttr(e,t),i&&(this.cachedTransform=null)}},Kinetic.Node.addPointSetter=function(t,e){var i=o+Kinetic.Util._capitalize(e);t.prototype[i]=function(){var t=Kinetic.Util._getXY([].slice.call(arguments)),n=this.attrs[e],o=0,r=0;t&&(o=t.x,r=t.y,this._fireBeforeChangeEvent(e,n,t),void 0!==o&&this[i+s](o),void 0!==r&&this[i+l](r),this._fireChangeEvent(e,n,t))}},Kinetic.Node.addRotationSetter=function(t,e,i){var n=o+Kinetic.Util._capitalize(e);t.prototype[n]=function(t){this._setAttr(e,t),i&&(this.cachedTransform=null)},t.prototype[n+m]=function(t){this._setAttr(e,Kinetic.Util._degToRad(t)),i&&(this.cachedTransform=null)}},Kinetic.Node.addGetter=function(t,e,i){var o=n+Kinetic.Util._capitalize(e);t.prototype[o]=function(){var t=this.attrs[e];return void 0===t&&(t=i),t}},Kinetic.Node.addPointGetter=function(t,e){var i=n+Kinetic.Util._capitalize(e);t.prototype[i]=function(){var t=this;return{x:t[i+s](),y:t[i+l]()}}},Kinetic.Node.addRotationGetter=function(t,e,i){var o=n+Kinetic.Util._capitalize(e);t.prototype[o]=function(){var t=this.attrs[e];return void 0===t&&(t=i),t},t.prototype[o+m]=function(){var t=this.attrs[e];return void 0===t&&(t=i),Kinetic.Util._radToDeg(t)}},Kinetic.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},Kinetic.Node._createNode=function(t,e){var i,n,o,r=Kinetic.Node.prototype.getClassName.call(t),a=t.children;if(e&&(t.attrs.container=e),i=new Kinetic[r](t.attrs),a)for(n=a.length,o=0;n>o;o++)i.add(this._createNode(a[o]));return i},Kinetic.Node.addGetterSetter(Kinetic.Node,"x",0,!0),Kinetic.Node.addGetterSetter(Kinetic.Node,"y",0,!0),Kinetic.Node.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Node.addGetter(Kinetic.Node,"name"),Kinetic.Node.addGetter(Kinetic.Node,"id"),Kinetic.Node.addRotationGetterSetter(Kinetic.Node,"rotation",0,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,"scale",1,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,"skew",0,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,"offset",0,!0),Kinetic.Node.addSetter(Kinetic.Node,"width"),Kinetic.Node.addSetter(Kinetic.Node,"height"),Kinetic.Node.addSetter(Kinetic.Node,"listening"),Kinetic.Node.addSetter(Kinetic.Node,"visible"),Kinetic.Node.prototype.isListening=Kinetic.Node.prototype.getListening,Kinetic.Node.prototype.isVisible=Kinetic.Node.prototype.getVisible,Kinetic.Collection.mapMethods(["on","off","draw"])}(),function(){function t(t){window.setTimeout(t,1e3/60)}Kinetic.Animation=function(t,e){this.func=t,this.setLayers(e),this.id=Kinetic.Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:(new Date).getTime()}},Kinetic.Animation.prototype={setLayers:function(t){var e=[];e=t?t.length>0?t:[t]:[],this.layers=e},getLayers:function(){return this.layers},addLayer:function(t){var e,i,n=this.layers;if(n){for(e=n.length,i=0;e>i;i++)if(n[i]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){for(var t=Kinetic.Animation,e=t.animations,i=0;i<e.length;i++)if(e[i].id===this.id)return!0;return!1},start:function(){this.stop(),this.frame.timeDiff=0,this.frame.lastTime=(new Date).getTime(),Kinetic.Animation._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(t){for(var e=t.id,i=this.animations,n=i.length,o=0;n>o;o++)if(i[o].id===e){this.animations.splice(o,1);break}},Kinetic.Animation._runFrames=function(){var t,e,i,n,o,r,a,s,l={},c=this.animations;for(n=0;n<c.length;n++){for(t=c[n],e=t.layers,i=t.func,t._updateFrameObject((new Date).getTime()),r=e.length,o=0;r>o;o++)a=e[o],void 0!==a._id&&(l[a._id]=a);i&&i.call(t,t.frame)}for(s in l)l[s].draw()},Kinetic.Animation._animationLoop=function(){var t=this;this.animations.length>0?(this._runFrames(),Kinetic.Animation.requestAnimFrame(function(){t._animationLoop()})):this.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var t=this;this.animRunning||(this.animRunning=!0,t._animationLoop())},RAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||t}(),Kinetic.Animation.requestAnimFrame=function(e){var i=Kinetic.DD&&Kinetic.DD.isDragging?t:RAF;i(e)};var e=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(t){e.call(this,t)},Kinetic.Layer.batchAnim=new Kinetic.Animation(function(){0===this.getLayers().length&&this.stop(),this.setLayers([])}),Kinetic.Layer.prototype.batchDraw=function(){var t=Kinetic.Layer.batchAnim;t.addLayer(this),t.isRunning()||t.start()}}(),function(){function t(t,e,i,n,o,a){var s="set"+Kinetic.Util._capitalize(e);return new r(e,function(e){t[s](e)},i,t["get"+Kinetic.Util._capitalize(e)](),n,1e3*o,a)}var e={node:1,duration:1,easing:1,onFinish:1,yoyo:1},i=1,n=2,o=3;Kinetic.Tween=function(i){var n,o,r=this,a=i.node,s=a._id,l=i.duration||1,c=i.easing||Kinetic.Easings.Linear,h=!!i.yoyo;this.tweens=[],this.node=a,this.onFinish=i.onFinish,this.anim=new Kinetic.Animation(function(){r._onEnterFrame()},a.getLayer()||a.getLayers());for(n in i)void 0===e[n]&&(o=t(a,n,c,i[n],l,h),this.tweens.push(o),this._addListeners(o),Kinetic.Tween.add(s,n,this));this.reset()},Kinetic.Tween.tweens={},Kinetic.Tween.add=function(t,e,i){var n=t+"-"+e,o=Kinetic.Tween.tweens[n];o&&o._removeTween(e),Kinetic.Tween.tweens[n]=i},Kinetic.Tween.prototype={_iterate:function(t){for(var e=this.tweens,i=0,n=e[i];n;)t(n,i++),n=e[i]},_isLastTween:function(t){var e=this.tweens,i=e.length;return e[i-1].prop===t.prop},_addListeners:function(t){var e=this;t.onPlay=function(){e._isLastTween(t)&&e.anim.start()},t.onReverse=function(){e._isLastTween(t)&&e.anim.start()},t.onPause=function(){e._isLastTween(t)&&e.anim.stop()},t.onFinish=function(){e._isLastTween(t)&&e.onFinish&&e.onFinish()}},play:function(){this._iterate(function(t){t.play()})},reverse:function(){this._iterate(function(t){t.reverse()})},reset:function(){var t=this.node;this._iterate(function(t){t.reset()}),(t.getLayer()||t.getLayers()).draw()},seek:function(t){var e=this.node;this._iterate(function(e){e.seek(1e3*t)}),(e.getLayer()||e.getLayers()).draw()},pause:function(){this._iterate(function(t){t.pause()})},finish:function(){var t=this.node;this._iterate(function(t){t.finish()}),(t.getLayer()||t.getLayers()).draw()},_onEnterFrame:function(){this._iterate(function(t){t.onEnterFrame()})},destroy:function(){},_removeTween:function(t){var e=this;this._iterate(function(i,n){i.prop===t&&e.tweens.splice(n,1)})}};var r=function(t,e,i,n,o,r,a){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=o-this.begin,this.pause()};r.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>t?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=o,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===o&&this.setTime(this.duration-t)},pause:function(){this.state=i,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(t,e,i,n){var o=1.70158;return i*(t/=n)*t*((o+1)*t-o)+e},BackEaseOut:function(t,e,i,n){var o=1.70158;return i*((t=t/n-1)*t*((o+1)*t+o)+1)+e},BackEaseInOut:function(t,e,i,n){var o=1.70158;return(t/=n/2)<1?i/2*t*t*(((o*=1.525)+1)*t-o)+e:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e},ElasticEaseIn:function(t,e,i,n,o,r){var a=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!o||o<Math.abs(i)?(o=i,a=r/4):a=r/(2*Math.PI)*Math.asin(i/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-a)*Math.PI/r))+e)},ElasticEaseOut:function(t,e,i,n,o,r){var a=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!o||o<Math.abs(i)?(o=i,a=r/4):a=r/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin(2*(t*n-a)*Math.PI/r)+i+e)},ElasticEaseInOut:function(t,e,i,n,o,r){var a=0;return 0===t?e:2==(t/=n/2)?e+i:(r||(r=1.5*.3*n),!o||o<Math.abs(i)?(o=i,a=r/4):a=r/(2*Math.PI)*Math.asin(i/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-a)*Math.PI/r)+e:.5*o*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*n-a)*Math.PI/r)+i+e)},BounceEaseOut:function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,i,n){return i-Kinetic.Easings.BounceEaseOut(n-t,0,i,n)+e},BounceEaseInOut:function(t,e,i,n){return n/2>t?.5*Kinetic.Easings.BounceEaseIn(2*t,0,i,n)+e:.5*Kinetic.Easings.BounceEaseOut(2*t-n,0,i,n)+.5*i+e},EaseIn:function(t,e,i,n){return i*(t/=n)*t+e
},EaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},EaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,n){return i*t/n+e}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Kinetic.DD,i=e.node;if(i){var n=i.getStage().getPointerPosition(),o=i.getDragBoundFunc(),r={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==o&&(r=o.call(i,r,t)),i.setAbsolutePosition(r),e.isDragging||(e.isDragging=!0,i.fire("dragstart",t,!0)),i.fire("dragmove",t,!0)}},_endDragBefore:function(t){var e,i,n=Kinetic.DD,o=n.node;o&&(e=o.nodeType,i=o.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,t&&(t.dragEndNode=o)),delete n.node,(i||o).draw())},_endDragAfter:function(t){var t=t||{},e=t.dragEndNode;t&&e&&e.fire("dragend",t,!0)}},Kinetic.Node.prototype.startDrag=function(){var t=Kinetic.DD,e=this.getStage(),i=this.getLayer(),n=e.getPointerPosition(),o=(this.getTransform().getTranslation(),this.getAbsolutePosition());n&&(t.node&&t.node.stopDrag(),t.node=this,t.offset.x=n.x-o.x,t.offset.y=n.y-o.y,t.anim.setLayers(i||this.getLayers()),t.anim.start())},Kinetic.Node.prototype.stopDrag=function(){var t=Kinetic.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Kinetic.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var e=Kinetic.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Kinetic.Node.prototype.isDragging=function(){var t=Kinetic.DD;return t.node&&t.node._id===this._id&&t.isDragging},Kinetic.Node.prototype._listenDrag=function(){this._dragCleanup();var t=this;this.on("mousedown.kinetic touchstart.kinetic",function(e){Kinetic.DD.node||t.startDrag(e)})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Kinetic.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){this.off("mousedown.kinetic"),this.off("touchstart.kinetic")},Kinetic.Node.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Node.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Node.prototype.isDraggable=Kinetic.Node.prototype.getDraggable;var e=document.getElementsByTagName("html")[0];e.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),e.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),e.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),e.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),function(){Kinetic.Util.addMethods(Kinetic.Container,{_containerInit:function(t){this.children=new Kinetic.Collection,Kinetic.Node.call(this,t)},getChildren:function(){return this.children},removeChildren:function(){for(;this.children.length>0;)this.children[0].remove()},add:function(t){var e=(Kinetic.Global,this.children);return t.index=e.length,t.parent=this,e.push(t),this._fire("add",{child:t}),this},get:function(t){var e=new Kinetic.Collection;if("#"===t.charAt(0)){var i=this._getNodeById(t.slice(1));i&&e.push(i)}else if("."===t.charAt(0)){var n=this._getNodesByName(t.slice(1));Kinetic.Collection.apply(e,n)}else{for(var o=[],r=this.getChildren(),a=r.length,s=0;a>s;s++)o=o.concat(r[s]._get(t));Kinetic.Collection.apply(e,o)}return e},_getNodeById:function(t){var e=(this.getStage(),Kinetic.Global),i=e.ids[t];return void 0!==i&&this.isAncestorOf(i)?i:null},_getNodesByName:function(t){var e=Kinetic.Global,i=e.names[t]||[];return this._getDescendants(i)},_get:function(t){for(var e=Kinetic.Node.prototype._get.call(this,t),i=this.getChildren(),n=i.length,o=0;n>o;o++)e=e.concat(i[o]._get(t));return e},toObject:function(){var t=Kinetic.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,n=0;i>n;n++){var o=e[n];t.children.push(o.toObject())}return t},_getDescendants:function(t){for(var e=[],i=t.length,n=0;i>n;n++){var o=t[n];this.isAncestorOf(o)&&e.push(o)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Kinetic.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(){for(var t=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),e=[],i=this.get("Shape"),n=i.length,o=0;n>o;o++){var r=i[o];r.isVisible()&&r.intersects(t)&&e.push(r)}return e},_setChildrenIndices:function(){for(var t=this.children,e=t.length,i=0;e>i;i++)t[i].index=i},drawScene:function(t){var e,i,n,o=this.getLayer(),r=!!this.getClipFunc();if(!t&&o&&(t=o.getCanvas()),this.isVisible()){for(r&&t._clip(this),e=this.children,n=e.length,i=0;n>i;i++)e[i].drawScene(t);r&&t.getContext().restore()}},drawHit:function(){var t,e=!!this.getClipFunc()&&"Stage"!==this.nodeType,i=0,n=0,o=[];if(this.shouldDrawHit()){for(e&&(t=this.getLayer().hitCanvas,t._clip(this)),o=this.children,n=o.length,i=0;n>i;i++)o[i].drawHit();e&&t.getContext().restore()}}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Node.addGetterSetter(Kinetic.Container,"clipFunc")}(),function(){function t(t){t.fill()}function e(t){t.stroke()}function i(t){t.fill()}function n(t){t.stroke()}Kinetic.Util.addMethods(Kinetic.Shape,{_initShape:function(o){this.nodeType="Shape",this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=i,this._strokeFuncHit=n;for(var r,a=Kinetic.Global.shapes;r=Kinetic.Util.getRandomColor(),!r||r in a;);this.colorKey=r,a[r]=this,this.createAttrs(),Kinetic.Node.call(this,o)},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},intersects:function(){var t=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),e=this.getStage(),i=e.hitCanvas;i.clear(),this.drawScene(i);var n=i.context.getImageData(0|t.x,0|t.y,1,1).data;return n[3]>0},enableFill:function(){this._setAttr("fillEnabled",!0)},disableFill:function(){this._setAttr("fillEnabled",!1)},enableStroke:function(){this._setAttr("strokeEnabled",!0)},disableStroke:function(){this._setAttr("strokeEnabled",!1)},enableStrokeScale:function(){this._setAttr("strokeScaleEnabled",!0)},disableStrokeScale:function(){this._setAttr("strokeScaleEnabled",!1)},enableShadow:function(){this._setAttr("shadowEnabled",!0)},disableShadow:function(){this._setAttr("shadowEnabled",!1)},enableDashArray:function(){this._setAttr("dashArrayEnabled",!0)},disableDashArray:function(){this._setAttr("dashArrayEnabled",!1)},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.Global.shapes[this.colorKey]},drawScene:function(t){var e=this.getDrawFunc(),t=t||this.getLayer().getCanvas(),i=t.getContext();e&&this.isVisible()&&(i.save(),t._applyOpacity(this),t._applyLineJoin(this),t._applyAncestorTransforms(this),e.call(this,t),i.restore())},drawHit:function(){var t=this.getAttrs(),e=t.drawHitFunc||t.drawFunc,i=this.getLayer().hitCanvas,n=i.getContext();e&&this.shouldDrawHit()&&(n.save(),i._applyLineJoin(this),i._applyAncestorTransforms(this),e.call(this,i),n.restore())},_setDrawFuncs:function(){!this.attrs.drawFunc&&this.drawFunc&&this.setDrawFunc(this.drawFunc),!this.attrs.drawHitFunc&&this.drawHitFunc&&this.setDrawHitFunc(this.drawHitFunc)}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"strokeWidth"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"drawFunc"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"drawHitFunc"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"dashArray"),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,"fill"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillPatternX"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillPatternY"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillPatternRepeat"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,"dashArrayEnabled",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Node.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillPatternOffset",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillPatternScale",1),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,"shadowOffset",0),Kinetic.Node.addRotationGetterSetter(Kinetic.Shape,"fillPatternRotation",0)}(),function(){function t(t,e){t.content.addEventListener(e,function(i){t["_"+e](i)},!1)}var e="Stage",i="string",n="px",o="mouseout",r="mouseleave",o="mouseout",a="mouseover",s="mouseenter",l="mousemove",c="mousedown",h="mouseup",u="click",d="dblclick",f="touchstart";TOUCHEND="touchend",TAP="tap",DBL_TAP="dbltap",TOUCHMOVE="touchmove",DIV="div",RELATIVE="relative",INLINE_BLOCK="inline-block",KINETICJS_CONTENT="kineticjs-content",SPACE=" ",CONTAINER="container",EVENTS=[c,l,h,o,f,TOUCHMOVE,TOUCHEND],eventsLength=EVENTS.length,Kinetic.Util.addMethods(Kinetic.Stage,{_initStage:function(t){this.createAttrs(),Kinetic.Container.call(this,t),this.nodeType=e,this.dblClickWindow=400,this._id=Kinetic.Global.idCounter++,this._buildDOM(),this._bindContentEvents(),Kinetic.Global.stages.push(this)},setContainer:function(t){typeof t===i&&(t=document.getElementById(t)),this._setAttr(CONTAINER,t)},draw:function(){var t,e,i=this.getChildren(),n=i.length;for(t=0;n>t;t++)e=i[t],e.getClearBeforeDraw()&&(e.getCanvas().clear(),e.getHitCanvas().clear());Kinetic.Node.prototype.draw.call(this)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this._resizeDOM()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this._resizeDOM()},clear:function(){var t,e=this.children,i=e.length;for(t=0;i>t;t++)e[t].clear()},remove:function(){var t=this.content;Kinetic.Node.prototype.remove.call(this),t&&Kinetic.Util._isInDocument(t)&&this.getContainer().removeChild(t)},getMousePosition:function(){return this.mousePos},getTouchPosition:function(){return this.touchPos},getPointerPosition:function(){return this.getTouchPosition()||this.getMousePosition()},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){function e(o){var r=l[o],c=r.toDataURL(),h=new Image;h.onload=function(){s.drawImage(h,0,0),o<l.length-1?e(o+1):t.callback(a.toDataURL(i,n))},h.src=c}var t=t||{},i=t.mimeType||null,n=t.quality||null,o=t.x||0,r=t.y||0,a=new Kinetic.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:1}),s=a.getContext(),l=this.children;(o||r)&&s.translate(-1*o,-1*r),e(0)},toImage:function(t){var e=t.callback;t.callback=function(t){Kinetic.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(){var t,e,i=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),n=this.getChildren(),o=n.length,r=o-1;for(t=r;t>=0;t--)if(e=n[t].getIntersection(i))return e;return null},_resizeDOM:function(){if(this.content){var t,e=this.getWidth(),i=this.getHeight(),o=this.getChildren(),r=o.length;for(this.content.style.width=e+n,this.content.style.height=i+n,this.bufferCanvas.setSize(e,i,1),this.hitCanvas.setSize(e,i),t=0;r>t;t++)layer=o[t],layer.getCanvas().setSize(e,i),layer.hitCanvas.setSize(e,i),layer.draw()}},add:function(t){return Kinetic.Container.prototype.add.call(this,t),t.canvas.setSize(this.attrs.width,this.attrs.height),t.hitCanvas.setSize(this.attrs.width,this.attrs.height),t.draw(),this.content.appendChild(t.canvas.element),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_setPointerPosition:function(t){t||(t=window.event),this._setMousePosition(t),this._setTouchPosition(t)},_bindContentEvents:function(){var e;for(e=0;eventsLength>e;e++)t(this,EVENTS[e])},_mouseout:function(t){this._setPointerPosition(t);var e=Kinetic.Global,i=this.targetShape;i&&!e.isDragging()&&(i._fireAndBubble(o,t),i._fireAndBubble(r,t),this.targetShape=null),this.mousePos=void 0},_mousemove:function(t){this._setPointerPosition(t);var e,i=Kinetic.Global,n=Kinetic.DD,c=this.getIntersection(this.getPointerPosition());c?(e=c.shape,e&&(i.isDragging()||255!==c.pixel[3]||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble(l,t):(this.targetShape&&(this.targetShape._fireAndBubble(o,t,e),this.targetShape._fireAndBubble(r,t,e)),e._fireAndBubble(a,t,this.targetShape),e._fireAndBubble(s,t,this.targetShape),this.targetShape=e))):this.targetShape&&!i.isDragging()&&(this.targetShape._fireAndBubble(o,t),this.targetShape._fireAndBubble(r,t),this.targetShape=null),n&&n._drag(t)},_mousedown:function(t){this._setPointerPosition(t);var e,i=Kinetic.Global,n=this.getIntersection(this.getPointerPosition());n&&n.shape&&(e=n.shape,this.clickStart=!0,this.clickStartShape=e,e._fireAndBubble(c,t)),this.isDraggable()&&!i.isDragReady()&&this.startDrag(t)},_mouseup:function(t){this._setPointerPosition(t);var e,i=this,n=Kinetic.Global,o=this.getIntersection(this.getPointerPosition());o&&o.shape&&(e=o.shape,e._fireAndBubble(h,t),this.clickStart&&!n.isDragging()&&e._id===this.clickStartShape._id&&(e._fireAndBubble(u,t),this.inDoubleClickWindow&&e._fireAndBubble(d,t),this.inDoubleClickWindow=!0,setTimeout(function(){i.inDoubleClickWindow=!1},this.dblClickWindow))),this.clickStart=!1},_touchstart:function(t){this._setPointerPosition(t);var e,i=Kinetic.Global,n=this.getIntersection(this.getPointerPosition());t.preventDefault(),n&&n.shape&&(e=n.shape,this.tapStart=!0,this.tapStartShape=e,e._fireAndBubble(f,t)),this.isDraggable()&&!i.isDragReady()&&this.startDrag(t)},_touchend:function(t){this._setPointerPosition(t);var e,i=this,n=Kinetic.Global,o=this.getIntersection(this.getPointerPosition());o&&o.shape&&(e=o.shape,e._fireAndBubble(TOUCHEND,t),this.tapStart&&!n.isDragging()&&e._id===this.tapStartShape._id&&(e._fireAndBubble(TAP,t),this.inDoubleClickWindow&&e._fireAndBubble(DBL_TAP,t),this.inDoubleClickWindow=!0,setTimeout(function(){i.inDoubleClickWindow=!1},this.dblClickWindow))),this.tapStart=!1},_touchmove:function(t){this._setPointerPosition(t);var e,i=Kinetic.DD,n=this.getIntersection(this.getPointerPosition());t.preventDefault(),n&&n.shape&&(e=n.shape,e._fireAndBubble(TOUCHMOVE,t)),i&&i._drag(t)},_setMousePosition:function(t){var e=t.clientX-this._getContentPosition().left,i=t.clientY-this._getContentPosition().top;this.mousePos={x:e,y:i}},_setTouchPosition:function(t){var e,i,n;void 0!==t.touches&&1===t.touches.length&&(e=t.touches[0],i=e.clientX-this._getContentPosition().left,n=e.clientY-this._getContentPosition().top,this.touchPos={x:i,y:n})},_getContentPosition:function(){var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left}},_buildDOM:function(){this.content=document.createElement(DIV),this.content.style.position=RELATIVE,this.content.style.display=INLINE_BLOCK,this.content.className=KINETICJS_CONTENT,this.attrs.container.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(t,e){var i,n,o=t.split(SPACE),r=o.length;for(i=0;r>i;i++)n=o[i],this.content.addEventListener(n,e,!1)}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Node.addGetter(Kinetic.Stage,"container")}(),function(){var t="#";Kinetic.Util.addMethods(Kinetic.Layer,{_initLayer:function(t){this.nodeType="Layer",this.createAttrs(),this.canvas=new Kinetic.SceneCanvas,this.canvas.getElement().style.position="absolute",this.hitCanvas=new Kinetic.HitCanvas,Kinetic.Container.call(this,t)},getIntersection:function(){var e,i,n,o=Kinetic.Util._getXY(Array.prototype.slice.call(arguments));if(this.isVisible()&&this.isListening()){if(e=this.hitCanvas.context.getImageData(0|o.x,0|o.y,1,1).data,255===e[3])return i=Kinetic.Util._rgbToHex(e[0],e[1],e[2]),n=Kinetic.Global.shapes[t+i],{shape:n,pixel:e};if(e[0]>0||e[1]>0||e[2]>0||e[3]>0)return{pixel:e}}return null},drawScene:function(t){var t=t||this.getCanvas();this.getClearBeforeDraw()&&t.clear(),Kinetic.Container.prototype.drawScene.call(this,t)},drawHit:function(){var t=this.getLayer();t&&t.getClearBeforeDraw()&&t.getHitCanvas().clear(),Kinetic.Container.prototype.drawHit.call(this)},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(){this.getCanvas().clear()},setVisible:function(t){Kinetic.Node.prototype.setVisible.call(this,t),t?(this.getCanvas().element.style.display="block",this.hitCanvas.element.style.display="block"):(this.getCanvas().element.style.display="none",this.hitCanvas.element.style.display="none")},setZIndex:function(t){Kinetic.Node.prototype.setZIndex.call(this,t);var e=this.getStage();e&&(e.content.removeChild(this.getCanvas().element),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas().element,e.getChildren()[t+1].getCanvas().element):e.content.appendChild(this.getCanvas().element))},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas().element),t.content.appendChild(this.getCanvas().element))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var t=this.getStage();t&&(t.content.removeChild(this.getCanvas().element),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas().element,t.getChildren()[this.index+1].getCanvas().element):t.content.appendChild(this.getCanvas().element))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas().element),t.content.insertBefore(this.getCanvas().element,e[this.index+1].getCanvas().element)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas().element),t.content.insertBefore(this.getCanvas().element,e[1].getCanvas().element)}}},getLayer:function(){return this},remove:function(){var t=this.getStage(),e=this.getCanvas(),i=e.element;Kinetic.Node.prototype.remove.call(this),t&&e&&Kinetic.Util._isInDocument(i)&&t.content.removeChild(i)}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.Container),Kinetic.Node.addGetterSetter(Kinetic.Layer,"clearBeforeDraw",!0)}(),function(){Kinetic.Util.addMethods(Kinetic.Group,{_initGroup:function(t){this.nodeType="Group",this.createAttrs(),Kinetic.Container.call(this,t)}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container)}(),function(){Kinetic.Rect=function(t){this._initRect(t)},Kinetic.Rect.prototype={_initRect:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Rect",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext(),i=this.getCornerRadius(),n=this.getWidth(),o=this.getHeight();e.beginPath(),i?(e.moveTo(i,0),e.lineTo(n-i,0),e.arc(n-i,i,i,3*Math.PI/2,0,!1),e.lineTo(n,o-i),e.arc(n-i,o-i,i,0,Math.PI/2,!1),e.lineTo(i,o),e.arc(i,o-i,i,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)):e.rect(0,0,n,o),e.closePath(),t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Rect,"cornerRadius",0)}(),function(){Kinetic.Circle=function(t){this._initCircle(t)},Kinetic.Circle.prototype={_initCircle:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Circle",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext();e.beginPath(),e.arc(0,0,this.getRadius(),0,2*Math.PI,!0),e.closePath(),t.fillStroke(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius(t/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Circle,"radius",0)}(),function(){Kinetic.Wedge=function(t){this._initWedge(t)},Kinetic.Wedge.prototype={_initWedge:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Wedge",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext();e.beginPath(),e.arc(0,0,this.getRadius(),0,this.getAngle(),this.getClockwise()),e.lineTo(0,0),e.closePath(),t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Node.addRotationGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Node.addGetterSetter(Kinetic.Wedge,"clockwise",!1)}(),function(){var t="Image",e="crop",i="set";Kinetic.Image=function(t){this._initImage(t)},Kinetic.Image.prototype={_initImage:function(e){Kinetic.Shape.call(this,e),this.className=t,this._setDrawFuncs()},drawFunc:function(t){var e,i,n,o,r,a,s=this.getWidth(),l=this.getHeight(),c=this,h=t.getContext(),u=this.getCrop();this.getFilter()&&this._applyFilter&&(this.applyFilter(),this._applyFilter=!1),a=this.filterCanvas?this.filterCanvas.getElement():this.getImage(),h.beginPath(),h.rect(0,0,s,l),h.closePath(),t.fillStroke(this),a&&(u?(i=u.x||0,n=u.y||0,o=u.width||0,r=u.height||0,e=[a,i,n,o,r,0,0,s,l]):e=[a,0,0,s,l],this.hasShadow()?t.applyShadow(this,function(){c._drawImage(h,e)}):this._drawImage(h,e))},drawHitFunc:function(t){var e=this.getWidth(),i=this.getHeight(),n=this.imageHitRegion,o=t.getContext();n?(o.drawImage(n,0,0,e,i),o.beginPath(),o.rect(0,0,e,i),o.closePath(),t.stroke(this)):(o.beginPath(),o.rect(0,0,e,i),o.closePath(),t.fillStroke(this))},applyFilter:function(){var t,e,i,n=this.getImage(),o=this.getWidth(),r=this.getHeight(),a=this.getFilter();t=this.filterCanvas?this.filterCanvas:this.filterCanvas=new Kinetic.SceneCanvas({width:o,height:r}),e=t.getContext();try{this._drawImage(e,[n,0,0,o,r]),i=e.getImageData(0,0,t.getWidth(),t.getHeight()),a.call(this,i),e.putImageData(i,0,0)}catch(s){this.clearFilter(),Kinetic.Util.warn("Unable to apply filter. "+s.message)}},clearFilter:function(){this.filterCanvas=null,this._applyFilter=!1},setCrop:function(){var t=[].slice.call(arguments),i=Kinetic.Util._getXY(t),n=Kinetic.Util._getSize(t),o=Kinetic.Util._merge(i,n);this._setAttr(e,Kinetic.Util._merge(o,this.getCrop()))},createImageHitRegion:function(t){var e,i,n,o,r,a=this,s=this.getWidth(),l=this.getHeight(),c=new Kinetic.Canvas({width:s,height:l}),h=c.getContext(),u=this.getImage();h.drawImage(u,0,0);try{for(e=h.getImageData(0,0,s,l),i=e.data,n=Kinetic.Util._hexToRgb(this.colorKey),o=0,r=i.length;r>o;o+=4)i[o+3]>0&&(i[o]=n.r,i[o+1]=n.g,i[o+2]=n.b);Kinetic.Util._getImage(e,function(e){a.imageHitRegion=e,t&&t()})}catch(d){Kinetic.Util.warn("Unable to create image hit region. "+d.message)}},clearImageHitRegion:function(){delete this.imageHitRegion},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)},_drawImage:function(t,e){5===e.length?t.drawImage(e[0],e[1],e[2],e[3],e[4]):9===e.length&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Node.addFilterGetterSetter=function(t,e,i){this.addGetter(t,e,i),this.addFilterSetter(t,e)},Kinetic.Node.addFilterSetter=function(t,e){var n=i+Kinetic.Util._capitalize(e);t.prototype[n]=function(t){this._setAttr(e,t),this._applyFilter=!0}},Kinetic.Node.addGetterSetter(Kinetic.Image,"image"),Kinetic.Node.addGetter(Kinetic.Image,"crop"),Kinetic.Node.addFilterGetterSetter(Kinetic.Image,"filter")}(),function(){Kinetic.Polygon=function(t){this._initPolygon(t)},Kinetic.Polygon.prototype={_initPolygon:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Polygon",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext(),i=this.getPoints(),n=i.length;e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var o=1;n>o;o++)e.lineTo(i[o].x,i[o].y);e.closePath(),t.fillStroke(this)},setPoints:function(t){this._setAttr("points",Kinetic.Util._getPoints(t))},getPoints:function(){return this.attrs.points||[]}},Kinetic.Util.extend(Kinetic.Polygon,Kinetic.Shape)}(),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var i="auto",n="Calibri",o="canvas",r="center",a="Change.kinetic",s="2d",l="-",c="",h="left",u="text",d="Text",f="middle",p="normal",g="px ",m=" ",v="right",y="word",b="char",x="none",w=["fontFamily","fontSize","fontStyle","padding","align","lineHeight","text","width","height","wrap"],C=w.length,S=document.createElement(o).getContext(s);Kinetic.Text=function(t){this._initText(t)},Kinetic.Text.prototype={_initText:function(n){var o=this;this.createAttrs(),this.attrs.width=i,this.attrs.height=i,Kinetic.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this.className=d,this._setDrawFuncs();for(var r=0;C>r;r++)this.on(w[r]+a,o._setTextData);this._setTextData()},drawFunc:function(t){var e=t.getContext(),i=this.getPadding(),n=(this.getFontStyle(),this.getFontSize(),this.getFontFamily(),this.getTextHeight()),o=this.getLineHeight()*n,a=this.textArr,s=a.length,l=this.getWidth();e.font=this._getContextFont(),e.textBaseline=f,e.textAlign=h,e.save(),e.translate(i,0),e.translate(0,i+n/2);for(var c=0;s>c;c++){var u=a[c],d=u.text,p=u.width;e.save(),this.getAlign()===v?e.translate(l-p-2*i,0):this.getAlign()===r&&e.translate((l-p-2*i)/2,0),this.partialText=d,t.fillStroke(this),e.restore(),e.translate(0,o)}e.restore()},drawHitFunc:function(t){var e=t.getContext(),i=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,i,n),e.closePath(),t.fillStroke(this)},setText:function(t){var e=Kinetic.Util._isString(t)?t:t.toString();this._setAttr(u,e)},getWidth:function(){return this.attrs.width===i?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===i?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,i=S,n=this.getFontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:parseInt(n,10)}},_getContextFont:function(){return this.getFontStyle()+m+this.getFontSize()+g+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return S.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),n=0,o=this.getLineHeight()*e,r=this.attrs.width,a=this.attrs.height,s=r!==i,c=a!==i,h=this.getPadding(),u=r-2*h,d=a-2*h,f=0,p=this.getWrap(),v=p!==x,y=p!==b&&v;this.textArr=[],S.save(),S.font=this.getFontStyle()+m+e+g+this.getFontFamily();for(var w=0,C=t.length;C>w;++w){var T=t[w],_=this._getTextWidth(T);if(s&&_>u)for(;T.length>0;){for(var k=0,K=T.length,P="",N=0;K>k;){var E=k+K>>>1,A=T.slice(0,E+1),L=this._getTextWidth(A);u>=L?(k=E+1,P=A,N=L):K=E}if(!P)break;if(y){var D=Math.max(P.lastIndexOf(m),P.lastIndexOf(l))+1;D>0&&(k=D,P=P.slice(0,k),N=this._getTextWidth(P))}if(this._addTextLine(P,N),f+=o,!v||c&&f+o>d)break;if(T=T.slice(k),T.length>0&&(_=this._getTextWidth(T),u>=_)){this._addTextLine(T,_),f+=o;break}}else this._addTextLine(T,_),f+=o,n=Math.max(n,_);if(c&&f+o>d)break}S.restore(),this.textHeight=e,this.textWidth=n}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Text,"fontFamily",n),Kinetic.Node.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Node.addGetterSetter(Kinetic.Text,"fontStyle",p),Kinetic.Node.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Node.addGetterSetter(Kinetic.Text,"align",h),Kinetic.Node.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Node.addGetterSetter(Kinetic.Text,"wrap",y),Kinetic.Node.addGetter(Kinetic.Text,u,c),Kinetic.Node.addSetter(Kinetic.Text,"width"),Kinetic.Node.addSetter(Kinetic.Text,"height")}(),function(){Kinetic.Line=function(t){this._initLine(t)},Kinetic.Line.prototype={_initLine:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Line",this._setDrawFuncs()},drawFunc:function(t){var e=this.getPoints(),i=e.length,n=t.getContext();n.beginPath(),n.moveTo(e[0].x,e[0].y);for(var o=1;i>o;o++){var r=e[o];n.lineTo(r.x,r.y)}t.stroke(this)},setPoints:function(t){this._setAttr("points",Kinetic.Util._getPoints(t))},getPoints:function(){return this.attrs.points||[]}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape)}(),function(){Kinetic.Spline=function(t){this._initSpline(t)},Kinetic.Spline._getControlPoints=function(t,e,i,n){var o=t.x,r=t.y,a=e.x,s=e.y,l=i.x,c=i.y,h=Math.sqrt(Math.pow(a-o,2)+Math.pow(s-r,2)),u=Math.sqrt(Math.pow(l-a,2)+Math.pow(c-s,2)),d=n*h/(h+u),f=n*u/(h+u),p=a-d*(l-o),g=s-d*(c-r),m=a+f*(l-o),v=s+f*(c-r);return[{x:p,y:g},{x:m,y:v}]},Kinetic.Spline.prototype={_initSpline:function(t){this.createAttrs(),Kinetic.Line.call(this,t),this.className="Spline"},drawFunc:function(t){var e=this.getPoints(),i=e.length,n=t.getContext(),o=this.getTension();if(n.beginPath(),n.moveTo(e[0].x,e[0].y),0!==o&&i>2){var r=this.allPoints,a=r.length;n.quadraticCurveTo(r[0].x,r[0].y,r[1].x,r[1].y);for(var s=2;a-1>s;)n.bezierCurveTo(r[s].x,r[s++].y,r[s].x,r[s++].y,r[s].x,r[s++].y);n.quadraticCurveTo(r[a-1].x,r[a-1].y,e[i-1].x,e[i-1].y)}else for(var s=1;i>s;s++){var l=e[s];n.lineTo(l.x,l.y)}t.stroke(this)},setPoints:function(t){Kinetic.Line.prototype.setPoints.call(this,t),this._setAllPoints()},setTension:function(t){this._setAttr("tension",t),this._setAllPoints()},_setAllPoints:function(){for(var t=this.getPoints(),e=t.length,i=this.getTension(),n=[],o=1;e-1>o;o++){var r=Kinetic.Spline._getControlPoints(t[o-1],t[o],t[o+1],i);n.push(r[0]),n.push(t[o]),n.push(r[1])}this.allPoints=n}},Kinetic.Util.extend(Kinetic.Spline,Kinetic.Line),Kinetic.Node.addGetter(Kinetic.Spline,"tension",1)}(),function(){Kinetic.Blob=function(t){this._initBlob(t)},Kinetic.Blob.prototype={_initBlob:function(t){Kinetic.Spline.call(this,t),this.className="Blob"},drawFunc:function(t){var e=this.getPoints(),i=e.length,n=t.getContext(),o=this.getTension();if(n.beginPath(),n.moveTo(e[0].x,e[0].y),0!==o&&i>2)for(var r=this.allPoints,a=r.length,s=0;a-1>s;)n.bezierCurveTo(r[s].x,r[s++].y,r[s].x,r[s++].y,r[s].x,r[s++].y);else for(var s=1;i>s;s++){var l=e[s];n.lineTo(l.x,l.y)}n.closePath(),t.fillStroke(this)},_setAllPoints:function(){var t=this.getPoints(),e=t.length,i=this.getTension(),n=Kinetic.Spline._getControlPoints(t[e-1],t[0],t[1],i),o=Kinetic.Spline._getControlPoints(t[e-2],t[e-1],t[0],i);Kinetic.Spline.prototype._setAllPoints.call(this),this.allPoints.unshift(n[1]),this.allPoints.push(o[0]),this.allPoints.push(t[e-1]),this.allPoints.push(o[1]),this.allPoints.push(n[0]),this.allPoints.push(t[0])}},Kinetic.Util.extend(Kinetic.Blob,Kinetic.Spline)}(),function(){Kinetic.Sprite=function(t){this._initSprite(t)},Kinetic.Sprite.prototype={_initSprite:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Sprite",this._setDrawFuncs(),this.anim=new Kinetic.Animation;var e=this;this.on("animationChange",function(){e.setIndex(0)})},drawFunc:function(t){var e=this.getAnimation(),i=this.getIndex(),n=this.getAnimations()[e][i],o=t.getContext(),r=this.getImage();r&&o.drawImage(r,n.x,n.y,n.width,n.height,0,0,n.width,n.height)
},drawHitFunc:function(t){var e=this.getAnimation(),i=this.getIndex(),n=this.getAnimations()[e][i],o=t.getContext();o.beginPath(),o.rect(0,0,n.width,n.height),o.closePath(),t.fill(this)},start:function(){var t=this,e=this.getLayer();this.anim.setLayers(e),this.interval=setInterval(function(){var e=t.getIndex();t._updateIndex(),t.afterFrameFunc&&e===t.afterFrameIndex&&(t.afterFrameFunc(),delete t.afterFrameFunc,delete t.afterFrameIndex)},1e3/this.getFrameRate()),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},afterFrame:function(t,e){this.afterFrameIndex=t,this.afterFrameFunc=e},_updateIndex:function(){var t=this.getIndex(),e=this.getAnimation(),i=this.getAnimations(),n=i[e],o=n.length;o-1>t?this.setIndex(t+1):this.setIndex(0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,"index",0),Kinetic.Node.addGetterSetter(Kinetic.Sprite,"frameRate",17)}(),function(){Kinetic.Path=function(t){this._initPath(t)},Kinetic.Path.prototype={_initPath:function(t){this.dataArray=[];var e=this;Kinetic.Shape.call(this,t),this.className="Path",this._setDrawFuncs(),this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange",function(){e.dataArray=Kinetic.Path.parsePathData(this.getData())})},drawFunc:function(t){var e=this.dataArray,i=t.getContext();i.beginPath();for(var n=0;n<e.length;n++){var o=e[n].command,r=e[n].points;switch(o){case"L":i.lineTo(r[0],r[1]);break;case"M":i.moveTo(r[0],r[1]);break;case"C":i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":i.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var a=r[0],s=r[1],l=r[2],c=r[3],h=r[4],u=r[5],d=r[6],f=r[7],p=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;i.translate(a,s),i.rotate(d),i.scale(g,m),i.arc(0,0,p,h,h+u,1-f),i.scale(1/g,1/m),i.rotate(-d),i.translate(-a,-s);break;case"z":i.closePath()}}t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},Kinetic.Path.getPointOnLine=function(t,e,i,n,o,r,a){void 0===r&&(r=e),void 0===a&&(a=i);var s=(o-i)/(n-e+1e-8),l=Math.sqrt(t*t/(1+s*s));e>n&&(l*=-1);var c,h=s*l;if((a-i)/(r-e+1e-8)===s)c={x:r+l,y:a+h};else{var u,d,f=this.getLineLength(e,i,n,o);if(1e-8>f)return void 0;var p=(r-e)*(n-e)+(a-i)*(o-i);p/=f*f,u=e+p*(n-e),d=i+p*(o-i);var g=this.getLineLength(r,a,u,d),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+s*s)),e>n&&(l*=-1),h=s*l,c={x:u+l,y:d+h}}return c},Kinetic.Path.getPointOnCubicBezier=function(t,e,i,n,o,r,a,s,l){function c(t){return t*t*t}function h(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}var f=s*c(t)+r*h(t)+n*u(t)+e*d(t),p=l*c(t)+a*h(t)+o*u(t)+i*d(t);return{x:f,y:p}},Kinetic.Path.getPointOnQuadraticBezier=function(t,e,i,n,o,r,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}var h=r*s(t)+n*l(t)+e*c(t),u=a*s(t)+o*l(t)+i*c(t);return{x:h,y:u}},Kinetic.Path.getPointOnEllipticalArc=function(t,e,i,n,o,r){var a=Math.cos(r),s=Math.sin(r),l={x:i*Math.cos(o),y:n*Math.sin(o)};return{x:t+(l.x*a-l.y*s),y:e+(l.x*s+l.y*a)}},Kinetic.Path.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<i.length;n++)e=e.replace(new RegExp(i[n],"g"),"|"+i[n]);for(var o=e.split("|"),r=[],a=0,s=0,n=1;n<o.length;n++){var l=o[n],c=l.charAt(0);l=l.slice(1),l=l.replace(new RegExp(",-","g"),"-"),l=l.replace(new RegExp("-","g"),",-"),l=l.replace(new RegExp("e,-","g"),"e-");var h=l.split(",");h.length>0&&""===h[0]&&h.shift();for(var u=0;u<h.length;u++)h[u]=parseFloat(h[u]);for(;h.length>0&&!isNaN(h[0]);){var d=null,f=[],p=a,g=s;switch(c){case"l":a+=h.shift(),s+=h.shift(),d="L",f.push(a,s);break;case"L":a=h.shift(),s=h.shift(),f.push(a,s);break;case"m":a+=h.shift(),s+=h.shift(),d="M",f.push(a,s),c="l";break;case"M":a=h.shift(),s=h.shift(),d="M",f.push(a,s),c="L";break;case"h":a+=h.shift(),d="L",f.push(a,s);break;case"H":a=h.shift(),d="L",f.push(a,s);break;case"v":s+=h.shift(),d="L",f.push(a,s);break;case"V":s=h.shift(),d="L",f.push(a,s);break;case"C":f.push(h.shift(),h.shift(),h.shift(),h.shift()),a=h.shift(),s=h.shift(),f.push(a,s);break;case"c":f.push(a+h.shift(),s+h.shift(),a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),d="C",f.push(a,s);break;case"S":var m=a,v=s,y=r[r.length-1];"C"===y.command&&(m=a+(a-y.points[2]),v=s+(s-y.points[3])),f.push(m,v,h.shift(),h.shift()),a=h.shift(),s=h.shift(),d="C",f.push(a,s);break;case"s":var m=a,v=s,y=r[r.length-1];"C"===y.command&&(m=a+(a-y.points[2]),v=s+(s-y.points[3])),f.push(m,v,a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),d="C",f.push(a,s);break;case"Q":f.push(h.shift(),h.shift()),a=h.shift(),s=h.shift(),f.push(a,s);break;case"q":f.push(a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),d="Q",f.push(a,s);break;case"T":var m=a,v=s,y=r[r.length-1];"Q"===y.command&&(m=a+(a-y.points[0]),v=s+(s-y.points[1])),a=h.shift(),s=h.shift(),d="Q",f.push(m,v,a,s);break;case"t":var m=a,v=s,y=r[r.length-1];"Q"===y.command&&(m=a+(a-y.points[0]),v=s+(s-y.points[1])),a+=h.shift(),s+=h.shift(),d="Q",f.push(m,v,a,s);break;case"A":var b=h.shift(),x=h.shift(),w=h.shift(),C=h.shift(),S=h.shift(),T=a,_=s;a=h.shift(),s=h.shift(),d="A",f=this.convertEndpointToCenterParameterization(T,_,a,s,C,S,b,x,w);break;case"a":var b=h.shift(),x=h.shift(),w=h.shift(),C=h.shift(),S=h.shift(),T=a,_=s;a+=h.shift(),s+=h.shift(),d="A",f=this.convertEndpointToCenterParameterization(T,_,a,s,C,S,b,x,w)}r.push({command:d||c,points:f,start:{x:p,y:g},pathLength:this.calcLength(p,g,d||c,f)})}("z"===c||"Z"===c)&&r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},Kinetic.Path.calcLength=function(e,i,n,o){var r,a,s,l=Kinetic.Path;switch(n){case"L":return l.getLineLength(e,i,o[0],o[1]);case"C":for(r=0,a=l.getPointOnCubicBezier(0,e,i,o[0],o[1],o[2],o[3],o[4],o[5]),t=.01;1>=t;t+=.01)s=l.getPointOnCubicBezier(t,e,i,o[0],o[1],o[2],o[3],o[4],o[5]),r+=l.getLineLength(a.x,a.y,s.x,s.y),a=s;return r;case"Q":for(r=0,a=l.getPointOnQuadraticBezier(0,e,i,o[0],o[1],o[2],o[3]),t=.01;1>=t;t+=.01)s=l.getPointOnQuadraticBezier(t,e,i,o[0],o[1],o[2],o[3]),r+=l.getLineLength(a.x,a.y,s.x,s.y),a=s;return r;case"A":r=0;var c=o[4],h=o[5],u=o[4]+h,d=Math.PI/180;if(Math.abs(c-u)<d&&(d=Math.abs(c-u)),a=l.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),0>h)for(t=c-d;t>u;t-=d)s=l.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],t,0),r+=l.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(t=c+d;u>t;t+=d)s=l.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],t,0),r+=l.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=l.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],u,0),r+=l.getLineLength(a.x,a.y,s.x,s.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(t,e,i,n,o,r,a,s,l){var c=l*(Math.PI/180),h=Math.cos(c)*(t-i)/2+Math.sin(c)*(e-n)/2,u=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(e-n)/2,d=h*h/(a*a)+u*u/(s*s);d>1&&(a*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((a*a*s*s-a*a*u*u-s*s*h*h)/(a*a*u*u+s*s*h*h));o==r&&(f*=-1),isNaN(f)&&(f=0);var p=f*a*u/s,g=f*-s*h/a,m=(t+i)/2+Math.cos(c)*p-Math.sin(c)*g,v=(e+n)/2+Math.sin(c)*p+Math.cos(c)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},x=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=x([1,0],[(h-p)/a,(u-g)/s]),C=[(h-p)/a,(u-g)/s],S=[(-1*h-p)/a,(-1*u-g)/s],T=x(C,S);return b(C,S)<=-1&&(T=Math.PI),b(C,S)>=1&&(T=0),0===r&&T>0&&(T-=2*Math.PI),1==r&&0>T&&(T+=2*Math.PI),[m,v,a,s,w,T,c,r]},Kinetic.Node.addGetterSetter(Kinetic.Path,"data")}(),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var i="",n="Calibri",o="normal";Kinetic.TextPath=function(t){this._initTextPath(t)},Kinetic.TextPath.prototype={_initTextPath:function(i){var n=this;this.createAttrs(),this.dummyCanvas=document.createElement("canvas"),this.dataArray=[],Kinetic.Shape.call(this,i),this._fillFunc=t,this._strokeFunc=e,this.className="TextPath",this._setDrawFuncs(),this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange",function(){n.dataArray=Kinetic.Path.parsePathData(this.attrs.data)});for(var o=["text","textStroke","textStrokeWidth"],r=0;r<o.length;r++){var a=o[r];this.on(a+"Change",n._setTextData)}n._setTextData()},drawFunc:function(t){var e=(this.charArr,t.getContext());e.font=this._getContextFont(),e.textBaseline="middle",e.textAlign="left",e.save();for(var i=this.glyphInfo,n=0;n<i.length;n++){e.save();var o=i[n].p0;i[n].p1,parseFloat(this.attrs.fontSize),e.translate(o.x,o.y),e.rotate(i[n].rotation),this.partialText=i[n].text,t.fillStroke(this),e.restore()}e.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Kinetic.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,i=e.getContext("2d");i.save(),i.font=this._getContextFont();var n=i.measureText(t);return i.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text);this.textWidth=e.width,this.textHeight=e.height,this.glyphInfo=[];for(var i,n,o,r=this.attrs.text.split(""),a=-1,s=0,l=function(){s=0;for(var e=t.dataArray,n=a+1;n<e.length;n++){if(e[n].pathLength>0)return a=n,e[n];"M"==e[n].command&&(i={x:e[n].points[0],y:e[n].points[1]})}return{}},c=function(e){var r=t._getTextSize(e).width,a=0,c=0;for(n=void 0;Math.abs(r-a)/r>.01&&25>c;){c++;for(var h=a;void 0===o;)o=l(),o&&h+o.pathLength<r&&(h+=o.pathLength,o=void 0);if(o==={}||void 0===i)return void 0;var u=!1;switch(o.command){case"L":Kinetic.Path.getLineLength(i.x,i.y,o.points[0],o.points[1])>r?n=Kinetic.Path.getPointOnLine(r,i.x,i.y,o.points[0],o.points[1],i.x,i.y):o=void 0;break;case"A":var d=o.points[4],f=o.points[5],p=o.points[4]+f;0===s?s=d+1e-8:r>a?s+=Math.PI/180*f/Math.abs(f):s-=Math.PI/360*f/Math.abs(f),Math.abs(s)>Math.abs(p)&&(s=p,u=!0),n=Kinetic.Path.getPointOnEllipticalArc(o.points[0],o.points[1],o.points[2],o.points[3],s,o.points[6]);break;case"C":0===s?s=r>o.pathLength?1e-8:r/o.pathLength:r>a?s+=(r-a)/o.pathLength:s-=(a-r)/o.pathLength,s>1&&(s=1,u=!0),n=Kinetic.Path.getPointOnCubicBezier(s,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3],o.points[4],o.points[5]);break;case"Q":0===s?s=r/o.pathLength:r>a?s+=(r-a)/o.pathLength:s-=(a-r)/o.pathLength,s>1&&(s=1,u=!0),n=Kinetic.Path.getPointOnQuadraticBezier(s,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3])}void 0!==n&&(a=Kinetic.Path.getLineLength(i.x,i.y,n.x,n.y)),u&&(u=!1,o=void 0)}},h=0;h<r.length&&(c(r[h]),void 0!==i&&void 0!==n);h++){var u=Kinetic.Path.getLineLength(i.x,i.y,n.x,n.y),d=0,f=Kinetic.Path.getPointOnLine(d+u/2,i.x,i.y,n.x,n.y),p=Math.atan2(n.y-i.y,n.x-i.x);this.glyphInfo.push({transposeX:f.x,transposeY:f.y,text:r[h],rotation:p,p0:i,p1:n}),i=n}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.TextPath,"fontFamily",n),Kinetic.Node.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Node.addGetterSetter(Kinetic.TextPath,"fontStyle",o),Kinetic.Node.addGetter(Kinetic.TextPath,"text",i)}(),function(){Kinetic.RegularPolygon=function(t){this._initRegularPolygon(t)},Kinetic.RegularPolygon.prototype={_initRegularPolygon:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="RegularPolygon",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext(),i=this.attrs.sides,n=this.attrs.radius;e.beginPath(),e.moveTo(0,0-n);for(var o=1;i>o;o++){var r=n*Math.sin(2*o*Math.PI/i),a=-1*n*Math.cos(2*o*Math.PI/i);e.lineTo(r,a)}e.closePath(),t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Node.addGetterSetter(Kinetic.RegularPolygon,"sides",0)}(),function(){Kinetic.Star=function(t){this._initStar(t)},Kinetic.Star.prototype={_initStar:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Star",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext(),i=this.attrs.innerRadius,n=this.attrs.outerRadius,o=this.attrs.numPoints;e.beginPath(),e.moveTo(0,0-this.attrs.outerRadius);for(var r=1;2*o>r;r++){var a=0===r%2?n:i,s=a*Math.sin(r*Math.PI/o),l=-1*a*Math.cos(r*Math.PI/o);e.lineTo(s,l)}e.closePath(),t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Star,"numPoints",0),Kinetic.Node.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Node.addGetterSetter(Kinetic.Star,"outerRadius",0)}(),function(){var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],e="Change.kinetic",i="none",n="up",o="right",r="down",a="left",s="Label",l=t.length;Kinetic.Label=function(t){this._initLabel(t)},Kinetic.Label.prototype={_initLabel:function(t){var e=this;this.createAttrs(),this.className=s,Kinetic.Group.call(this,t),this.on("add",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.get("Text")[0]},getTag:function(){return this.get("Tag")[0]},_addListeners:function(i){var n,o=this;for(n=0;l>n;n++)i.on(t[n]+e,function(){o._sync()})},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,i,s,l,c,h=this.getText(),u=this.getTag();if(h&&u){switch(t=h.getWidth(),e=h.getHeight(),i=u.getPointerDirection(),s=u.getPointerWidth(),pointerHeight=u.getPointerHeight(),l=0,c=0,i){case n:l=t/2,c=-1*pointerHeight;break;case o:l=t+s,c=e/2;break;case r:l=t/2,c=e+pointerHeight;break;case a:l=-1*s,c=e/2}u.setAttrs({x:-1*l,y:-1*c,width:t,height:e}),h.setAttrs({x:-1*l,y:-1*c})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Tag=function(t){this._initTag(t)},Kinetic.Tag.prototype={_initTag:function(t){this.createAttrs(),Kinetic.Shape.call(this,t),this.className="Tag",this._setDrawFuncs()},drawFunc:function(t){var e=t.getContext(),i=this.getWidth(),s=this.getHeight(),l=this.getPointerDirection(),c=this.getPointerWidth(),h=this.getPointerHeight();this.getCornerRadius(),e.beginPath(),e.moveTo(0,0),l===n&&(e.lineTo((i-c)/2,0),e.lineTo(i/2,-1*h),e.lineTo((i+c)/2,0)),e.lineTo(i,0),l===o&&(e.lineTo(i,(s-h)/2),e.lineTo(i+c,s/2),e.lineTo(i,(s+h)/2)),e.lineTo(i,s),l===r&&(e.lineTo((i+c)/2,s),e.lineTo(i/2,s+h),e.lineTo((i-c)/2,s)),e.lineTo(0,s),l===a&&(e.lineTo(0,(s+h)/2),e.lineTo(-1*c,s/2),e.lineTo(0,(s-h)/2)),e.closePath(),t.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Tag,"pointerDirection",i),Kinetic.Node.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Node.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Node.addGetterSetter(Kinetic.Tag,"cornerRadius",0)}(),function(){Kinetic.Filters.Grayscale=function(t){for(var e=t.data,i=0;i<e.length;i+=4){var n=.34*e[i]+.5*e[i+1]+.16*e[i+2];e[i]=n,e[i+1]=n,e[i+2]=n}}}(),function(){Kinetic.Filters.Brighten=function(t){for(var e=this.getFilterBrightness(),i=t.data,n=0;n<i.length;n+=4)i[n]+=e,i[n+1]+=e,i[n+2]+=e},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,"filterBrightness",0)}(),function(){Kinetic.Filters.Invert=function(t){for(var e=t.data,i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]}}(),function(){function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,o){var r,a,s,l,c,h,u,d,f,p,g,m,v,y,b,x,w,C,S,T,_,k,K,P,N=e.data,E=e.width,A=e.height,L=o+o+1,D=E-1,F=A-1,j=o+1,M=j*(j+1)/2,R=new t,H=R,I=null,O=null,$=i[o],W=n[o];for(s=1;L>s;s++)if(H=H.next=new t,s==j)var B=H;for(H.next=R,u=h=0,a=0;A>a;a++){for(x=w=C=S=d=f=p=g=0,m=j*(T=N[h]),v=j*(_=N[h+1]),y=j*(k=N[h+2]),b=j*(K=N[h+3]),d+=M*T,f+=M*_,p+=M*k,g+=M*K,H=R,s=0;j>s;s++)H.r=T,H.g=_,H.b=k,H.a=K,H=H.next;for(s=1;j>s;s++)l=h+((s>D?D:s)<<2),d+=(H.r=T=N[l])*(P=j-s),f+=(H.g=_=N[l+1])*P,p+=(H.b=k=N[l+2])*P,g+=(H.a=K=N[l+3])*P,x+=T,w+=_,C+=k,S+=K,H=H.next;for(I=R,O=B,r=0;E>r;r++)N[h+3]=K=g*$>>W,0!=K?(K=255/K,N[h]=(d*$>>W)*K,N[h+1]=(f*$>>W)*K,N[h+2]=(p*$>>W)*K):N[h]=N[h+1]=N[h+2]=0,d-=m,f-=v,p-=y,g-=b,m-=I.r,v-=I.g,y-=I.b,b-=I.a,l=u+((l=r+o+1)<D?l:D)<<2,x+=I.r=N[l],w+=I.g=N[l+1],C+=I.b=N[l+2],S+=I.a=N[l+3],d+=x,f+=w,p+=C,g+=S,I=I.next,m+=T=O.r,v+=_=O.g,y+=k=O.b,b+=K=O.a,x-=T,w-=_,C-=k,S-=K,O=O.next,h+=4;u+=E}for(r=0;E>r;r++){for(w=C=S=x=f=p=g=d=0,h=r<<2,m=j*(T=N[h]),v=j*(_=N[h+1]),y=j*(k=N[h+2]),b=j*(K=N[h+3]),d+=M*T,f+=M*_,p+=M*k,g+=M*K,H=R,s=0;j>s;s++)H.r=T,H.g=_,H.b=k,H.a=K,H=H.next;for(c=E,s=1;o>=s;s++)h=c+r<<2,d+=(H.r=T=N[h])*(P=j-s),f+=(H.g=_=N[h+1])*P,p+=(H.b=k=N[h+2])*P,g+=(H.a=K=N[h+3])*P,x+=T,w+=_,C+=k,S+=K,H=H.next,F>s&&(c+=E);for(h=r,I=R,O=B,a=0;A>a;a++)l=h<<2,N[l+3]=K=g*$>>W,K>0?(K=255/K,N[l]=(d*$>>W)*K,N[l+1]=(f*$>>W)*K,N[l+2]=(p*$>>W)*K):N[l]=N[l+1]=N[l+2]=0,d-=m,f-=v,p-=y,g-=b,m-=I.r,v-=I.g,y-=I.b,b-=I.a,l=r+((l=a+j)<F?l:F)*E<<2,d+=x+=I.r=N[l],f+=w+=I.g=N[l+1],p+=C+=I.b=N[l+2],g+=S+=I.a=N[l+3],I=I.next,m+=T=O.r,v+=_=O.g,y+=k=O.b,b+=K=O.a,x-=T,w-=_,C-=k,S-=K,O=O.next,h+=E}}var i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(t){var i=0|this.getFilterRadius();i>0&&e(t,i)},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,"filterRadius",0)}(),function(){function t(t,e,i){var n=4*(i*t.width+e),o=[];return o.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),o}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function i(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function n(n,o){var r=t(n,0,0),a=t(n,n.width-1,0),s=t(n,0,n.height-1),l=t(n,n.width-1,n.height-1),c=o||10;if(e(r,a)<c&&e(a,l)<c&&e(l,s)<c&&e(s,r)<c){for(var h=i([a,r,l,s]),u=[],d=0;d<n.width*n.height;d++){var f=e(h,[n.data[4*d],n.data[4*d+1],n.data[4*d+2]]);u[d]=c>f?0:255}return u}}function o(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}function r(t,e,i){for(var n=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(n.length)),r=Math.floor(o/2),a=[],s=0;i>s;s++)for(var l=0;e>l;l++){for(var c=s*e+l,h=0,u=0;o>u;u++)for(var d=0;o>d;d++){var f=s+u-r,p=l+d-r;if(f>=0&&i>f&&p>=0&&e>p){var g=f*e+p,m=n[u*o+d];h+=t[g]*m}}a[c]=2040===h?255:0}return a}function a(t,e,i){for(var n=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(n.length)),r=Math.floor(o/2),a=[],s=0;i>s;s++)for(var l=0;e>l;l++){for(var c=s*e+l,h=0,u=0;o>u;u++)for(var d=0;o>d;d++){var f=s+u-r,p=l+d-r;if(f>=0&&i>f&&p>=0&&e>p){var g=f*e+p,m=n[u*o+d];h+=t[g]*m}}a[c]=h>=1020?255:0}return a}function s(t,e,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(n.length)),r=Math.floor(o/2),a=[],s=0;i>s;s++)for(var l=0;e>l;l++){for(var c=s*e+l,h=0,u=0;o>u;u++)for(var d=0;o>d;d++){var f=s+u-r,p=l+d-r;if(f>=0&&i>f&&p>=0&&e>p){var g=f*e+p,m=n[u*o+d];h+=t[g]*m}}a[c]=h}return a}Kinetic.Filters.Mask=function(t){var e=this.getFilterThreshold(),i=n(t,e);return i&&(i=r(i,t.width,t.height),i=a(i,t.width,t.height),i=s(i,t.width,t.height),o(t,i)),t},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,"filterThreshold",0)}(),function(t){var e=t(window),i=e.height();e.resize(function(){i=e.height()}),t.fn.parallax=function(n,o,r,a,s){function l(){var s=e.scrollTop();u.each(function(){var e=t(this),l=e.offset().top,d=c(e);s>l+d||l>s+i||("up"==a&&u.css("backgroundPosition",n+" "+Math.round(o+(h-s)*r)+"px"),"down"==a&&u.css("backgroundPosition",n+" "+-1*Math.round(o+(h-s)*r)+"px"),"left"==a&&u.css("backgroundPosition",Math.round(n+(h-s)*r)+"px"+" "+o+"px"))})}var c,h,u=t(this);u.each(function(){h=u.offset().top}),c=s?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===n)&&(n="50%"),(arguments.length<2||null===r)&&(r=.1),(arguments.length<3||null===s)&&(s=!0),e.bind("scroll",l).resize(l),l()}}(jQuery),function(t){"use strict";t.fn.pin=function(e){var i=0,n=[],o=!1,r=t(window);e=e||{};var a=function(){for(var i=0,a=n.length;a>i;i++){var s=n[i];if(e.minWidth&&r.width()<=e.minWidth)s.parent().is(".pin-wrapper")&&s.unwrap(),s.css({width:"",left:"",top:"",position:""}),o=!0;else{o=!1;var l=e.containerSelector?s.closest(e.containerSelector):t(document.body),c=s.offset(),h=l.offset(),u=s.offsetParent().offset();s.parent().is(".pin-wrapper")||s.wrap("<div class='pin-wrapper'>"),s.data("pin",{from:e.containerSelector?h.top:c.top,to:h.top+l.height()-s.outerHeight(),end:h.top+l.height(),parentTop:u.top}),s.parent().css("height",s.outerHeight())}}},s=function(){if(!o){i=r.scrollTop();for(var e=0,a=n.length;a>e;e++){var s=t(n[e]),l=s.data("pin"),c=l.from,h=l.to;c+s.outerHeight()>l.end?s.css("position",""):i>c&&h>i?!("fixed"==s.css("position"))&&s.css({left:s.offset().left,top:0}).css("position","fixed"):i>=h?s.css({left:"auto",top:h-l.parentTop}).css("position","absolute"):s.css({position:"",top:"",left:""})}}},l=function(){a(),s()};return this.each(function(){var e=t(this),i=t(this).data("pin")||{};i&&i.update||(n.push(e),t("img",this).one("load",a),i.update=l,t(this).data("pin",i))}),r.scroll(s),r.resize(function(){a()}),a(),r.load(l),this}}(jQuery),(window.jQuery||window.Zepto)&&function(t){t.fn.Swipe=function(e){return this.each(function(){t(this).data("Swipe",new Swipe(t(this)[0],e))})}}(window.jQuery||window.Zepto),/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){n.trigger("closed").remove()}var n,o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n=t(r),e&&e.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger(e=t.Event("close")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),o=n.data("alert");o||n.data("alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),o=n.data("button"),r="object"==typeof i&&i;o||n.data("button",o=new e(this,r)),"toggle"==i?o.toggle():i&&o.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),n=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var n,o=this.$element.find(".item.active"),r=i||o[e](),a=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),n=t.Event("slide",{relatedTarget:r[0],direction:s}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),this.$element.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),o=n.data("carousel"),r=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),a="string"==typeof i?i:r.slide;o||n.data("carousel",o=new e(this,r)),"number"==typeof i?o.to(i):a?o[a]():r.interval&&o.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},r.data(),o.data());r.carousel(a),(n=o.attr("data-slide-to"))&&r.data("carousel").pause().to(n).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,o;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(o=n.data("collapse"),o&&o.transitioning)return;n.collapse("hide"),o||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var o=this,r=function(){"show"==i.type&&o.reset(),o.transitioning=0,o.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),o=n.data("collapse"),r=t.extend({},t.fn.collapse.defaults,n.data(),"object"==typeof i&&i);o||n.data("collapse",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),o=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(o).data("collapse")?"toggle":n.data();n[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(r)})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(n).each(function(){i(t(this)).removeClass("open")})}function i(e){var i,n=e.attr("data-target");return n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&t(n),i&&i.length||(i=e.parent()),i}var n="[data-toggle=dropdown]",o=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var n,o,r=t(this);if(!r.is(".disabled, :disabled"))return n=i(r),o=n.hasClass("open"),e(),o||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),n.toggleClass("open")),r.focus(),!1},keydown:function(e){var o,r,a,s,l;if(/(38|40|27)/.test(e.keyCode)&&(o=t(this),e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled"))){if(a=i(o),s=a.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&a.find(n).focus(),o.click();r=t("[role=menu] li:not(.divider):visible a",a),r.length&&(l=r.index(r.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",n,o.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",o.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),o=n.data("modal"),r=t.extend({},t.fn.modal.defaults,n.data(),"object"==typeof i&&i);o||n.data("modal",o=new e(this,r)),"string"==typeof i?o[i]():r.show&&o.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),o=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},o.data(),i.data());e.preventDefault(),o.modal(r).one("hide",function(){i.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var o,r,a,s,l;for(this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(o="hover"==s?"mouseenter":"focus",r="hover"==s?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i,n=t.fn[this.type].defaults,o={};return this._options&&t.each(this._options,function(t,e){n[t]!=e&&(o[t]=e)},this),i=t(e.currentTarget)[this.type](o).data(this.type),i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var e,i,n,o,r,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),n=e[0].offsetWidth,o=e[0].offsetHeight,r){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":a={top:i.top-o,left:i.left+i.width/2-n/2};break;case"left":a={top:i.top+i.height/2-o/2,left:i.left-n};break;case"right":a={top:i.top+i.height/2-o/2,left:i.left+i.width}}this.applyPlacement(a,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,o,r,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),i=a[0].offsetWidth,n=a[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,r=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,a.offset(t),i=a[0].offsetWidth,n=a[0].offsetHeight),this.replaceArrow(o-s+i,i,"left")):this.replaceArrow(n-l,n,"top"),r&&a.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip(),n=t.Event("hide");return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),o=n.data("tooltip"),r="object"==typeof i&&i;o||n.data("tooltip",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=("function"==typeof i.content?i.content.call(e[0]):i.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),o=n.data("popover"),r="object"==typeof i&&i;o||n.data("popover",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),!function(t){"use strict";function e(e,i){var n,o=t.proxy(this.process,this),r=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=r.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),o=/^#\w/.test(n)&&t(n);return o&&o.length&&[[o.position().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(e>=n)return a!=(t=r.last()[0])&&this.activate(t);for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),o=n.data("scrollspy"),r="object"==typeof i&&i;o||n.data("scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n,o=this.element,r=o.closest("ul:not(.dropdown-menu)"),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],n=t.Event("show",{relatedTarget:e}),o.trigger(n),n.isDefaultPrevented()||(i=t(a),this.activate(o.parent("li"),r),this.activate(i,i.parent(),function(){o.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,n){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),a=n&&t.support.transition&&r.hasClass("fade");a?r.one(t.support.transition.end,o):o(),r.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),o=n.data("tab");o||n.data("tab",o=new e(this)),"string"==typeof i&&o[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):o.push(e):i.push(e);return i.concat(n,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),o=n.data("typeahead"),r="object"==typeof i&&i;o||n.data("typeahead",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),n=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,a=r.bottom,s=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof a&&(a=r.bottom()),e=null!=this.unpin&&n+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=i-a?"bottom":null!=s&&s>=n?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-n:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),o=n.data("affix"),r="object"==typeof i&&i;o||n.data("affix",o=new e(this,r)),"string"==typeof i&&o[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery);